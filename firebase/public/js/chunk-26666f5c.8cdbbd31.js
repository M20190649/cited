(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26666f5c"],{"10d2":function(t,e,r){"use strict";var s=r("8dd9");e["a"]=s["a"]},"1cd6":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:t.back}},[r("v-icon",[t._v("mdi-arrow-left")])],1),r("v-toolbar-title",[t._v(t._s(t.artLabel))])],1),r("v-list",{attrs:{"three-line":""}},[r("v-card",{attrs:{flat:"",tile:""}},[r("v-card-text",{staticClass:"body-2 font-weight-bold"},[t._v("\n        "+t._s(t.titleText)+"\n      ")])],1),t.isLoading?r("v-progress-circular",{staticClass:"ma-4",staticStyle:{width:"100%"},attrs:{indeterminate:""}}):t._l(t.relatives,function(e){return r("pv-drawer-article-list-tile",{key:e.artHash,attrs:{art:e},on:{click:function(r){return t.onClickArticle(e.artHash)}}})})],2)],1)},i=[],a=r("2ef0"),n=r.n(a),o=r("59ca"),l=(r("e71f"),r("2f62")),c=r("bb91"),h=r("e42c"),d={name:"PvDrawerRelativeListView",components:{PvDrawerArticleListTile:h["a"]},props:{relationProp:String},data:()=>({relatives:null}),computed:{...Object(l["b"])("parseVis",["currCollId","currVisGraph","currArtId","currArt"]),art(){return this.currArt||this.visGraph.getArt(this.currArtId)},artLabel(){return`${this.firstAuthorSurname} ${this.year}`},authors(){return this.art?this.art.authors:[]},firstAuthorSurname(){return this.art&&this.art.authors&&this.art.authors[0]&&this.art.authors[0].surname},isLoading(){return null===this.relatives},nCitedBys(){return this.art&&this.art.nCitedBys&&this.art.nCitedBy},nReferences(){return this.art&&this.art.nReferences&&this.art.nReference},title(){return this.art&&this.art.title},titleText(){return"references"===this.relationProp?`References of "${this.title}"`:`"${this.title}" is cited by`},visGraph(){return this.currVisGraph||new c["a"]},year(){return this.art&&this.art.year}},watch:{art:{immediate:!0,async handler(){this.relatives=null,this.relatives="references"===this.relationProp?await this.fetchReferences():await this.fetchCitedBys()}}},methods:{back(){this.$router.push(`/coll/${this.currCollId}/${this.currArtId}`)},async fetchCitedBys(){const t=await o["firestore"]().doc(`citedBys/${this.currArtId}`).get(),e=t.exists?t.data().artHashes:[],r=await Promise.all(n.a.map(e,async t=>{const e=await o["firestore"]().doc(`artMetas/${t}`).get();return{...e.data(),artHash:e.id,isMeta:!0}})),s=this.art.citedBys||[],i=this.visGraph.getInGraphCitedByIds(this.currArtId),a=n.a.map(i,t=>this.visGraph.getArt(t)),l=n.a.uniqBy([...r,...s,...a],t=>t.artHash);return l},async fetchReferences(){if(!this.art)return[];const t=this.art.references||[],e=this.visGraph.getInGraphReferenceIds(this.art.artHash),r=n.a.map(e,t=>this.visGraph.getArt(t)),s=n.a.map(this.art.referenceArtHashes,t=>({artHash:t})),i=n.a.unionBy(r,t,s,"artHash"),a=Promise.all(n.a.map(i,async t=>{const e=o["firestore"]().doc(`/artMetas/${t.artHash}`),r=await e.get();return{...t,...r.data()}}));return a},onClickArticle(t){this.$router.push(`/coll/${this.currCollId}/${t}`)}}},u=d,p=r("2877"),v=r("6544"),m=r.n(v),b=r("5bc1"),f=(r("615b"),r("10d2")),g=r("297c"),y=r("1c87"),C=r("58df"),_=Object(C["a"])(g["a"],y["a"],f["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean},computed:{classes(){return{"v-card":!0,...y["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.loading||this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,...f["a"].options.computed.classes.call(this)}},styles(){const t={...f["a"].options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=g["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress"},[t]):null}},render(t){const{tag:e,data:r}=this.generateRouteLink();return r.style=this.styles,this.isClickable&&(r.attrs=r.attrs||{},r.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,r),[this.genProgress(),this.$slots.default])}}),B=r("80d2");Object(B["g"])("v-card__actions");const x=Object(B["g"])("v-card__text");Object(B["g"])("v-card__title");var w=r("132d"),$=r("8860"),A=r("490a"),k=r("71d9"),S=r("2a7f"),V=Object(p["a"])(u,s,i,!1,null,null,null);e["default"]=V.exports;m()(V,{VAppBarNavIcon:b["a"],VCard:_,VCardText:x,VIcon:w["a"],VList:$["a"],VProgressCircular:A["a"],VToolbar:k["a"],VToolbarTitle:S["a"]})},"22da":function(t,e,r){"use strict";var s=r("490a");e["a"]=s["a"]},"297c":function(t,e,r){"use strict";var s=r("2b0e"),i=(r("6ece"),r("0789")),a=r("a9ad"),n=r("fe6c"),o=r("a452"),l=r("7560"),c=r("80d2"),h=r("58df");const d=Object(h["a"])(a["a"],Object(n["b"])(["absolute","fixed","top","bottom"]),o["a"],l["a"]);var u=d.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(c["e"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(c["e"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,left:Object(c["e"])(this.normalizedValue,"%"),width:Object(c["e"])(this.normalizedBuffer-this.normalizedValue,"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,...this.themeClasses}},computedTransition(){return this.indeterminate?i["c"]:i["d"]},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(c["e"])(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=Object(c["l"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(c["e"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=u;e["a"]=s["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"528f":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-truncate stats-row"},[r("div",{staticClass:"text-truncate stats-row-venue"},[t._v(t._s(t.venue))]),r("div",{staticClass:"stats-row-delimiter"},[t._v("-")]),r("div",[t._v(t._s(t.year))]),r("div",{staticClass:"stats-row-delimiter"},[t._v("-")]),r("div",[t._v("Referencing "+t._s(t.nReferences))]),r("div",{staticClass:"stats-row-delimiter"},[t._v("-")]),r("div",[t._v("Cited by "+t._s(t.nCitedBys))])])},i=[],a={name:"PvDrawerArticleStatsRow",props:{venue:String,year:Number,nReferences:Number,nCitedBys:Number}},n=a,o=(r("608d"),r("2877")),l=Object(o["a"])(n,s,i,!1,null,"35a4d93a",null);e["a"]=l.exports},"57c3":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var s=r("2ef0"),i=r.n(s);function a(t){return{data:()=>({isHovering:!1}),methods:{onMouseEnter(){this.isHovering=!0,this.$store.commit("parseVis/set",{temporaryArticleIds:i.a.union(this.$store.state.temporaryArticleIds,[t(this)]),hoveringArticleId:t(this)})},onMouseLeave(){this.isHovering=!1,this.$store.commit("parseVis/set",{temporaryArticleIds:i.a.without(this.$store.state.temporaryArticleIds,[t(this)]),hoveringArticleId:null})}}}}},"5bc1":function(t,e,r){"use strict";var s=r("9d26"),i=r("8336"),a=r("2b0e");e["a"]=a["a"].extend({name:"v-app-bar-nav-icon",functional:!0,render(t,{slots:e,listeners:r,props:a,data:n}){const o=Object.assign(n,{staticClass:`v-app-bar__nav-icon ${n.staticClass||""}`.trim(),props:{...a,icon:!0},on:r}),l=e().default;return t(i["a"],o,l||[t(s["a"],"$vuetify.icons.menu")])}})},"608d":function(t,e,r){"use strict";var s=r("feb6"),i=r.n(s);i.a},"615b":function(t,e,r){},"6ece":function(t,e,r){},8336:function(t,e,r){"use strict";r("86cc");var s=r("10d2"),i=r("22da"),a=r("4e82"),n=r("f2e7"),o=r("fe6c"),l=r("1c87"),c=r("af2b"),h=r("58df"),d=r("d9bd");const u=Object(h["a"])(s["a"],l["a"],o["a"],c["a"],Object(a["a"])("btnToggle"),Object(n["b"])("inputValue"));e["a"]=u.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...l["a"].options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--contained":this.contained,"v-btn--depressed":this.depressed||this.outlined,"v-btn--disabled":this.disabled,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--flat":this.isFlat,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},contained(){return Boolean(!this.isFlat&&!this.depressed&&!this.elevation)},computedRipple(){const t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=this.ripple?this.ripple:t)},isFlat(){return Boolean(this.icon||this.text||this.outlined)},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(d["a"])(t,e,this)})},methods:{click(t){this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(i["a"],{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],r=this.isFlat?this.setTextColor:this.setBackgroundColor,{tag:s,data:i}=this.generateRouteLink();return"button"===s&&(i.attrs.type=this.type,i.attrs.disabled=this.disabled),i.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(s,this.disabled?i:r(this.color,i),e)}})},"86cc":function(t,e,r){},"8aba":function(t,e,r){},b498:function(t,e,r){"use strict";var s=r("8aba"),i=r.n(s);i.a},b971:function(t,e,r){"use strict";var s=r("2ef0"),i=r.n(s),a=r("2f62"),n=r("ee39");e["a"]={computed:{...Object(a["b"])("parseVis",["currCollId","currColl","currVisGraph"]),collReferenceColor(){const t=i.a.size(this.currVisGraph.getInGraphReferenceIds(this.mixArtHash));return Object(n["a"])(t)},collCitedByColor(){const t=i.a.size(this.currVisGraph.getInGraphCitedByIds(this.mixArtHash));return Object(n["a"])(t)},firstAuthorSurname(){return i.a.property("firstAuthor.surname")(this.mixArt)||i.a.property("authors[0].surname")(this.mixArt)},label(){return`${this.firstAuthorSurname} ${this.year}`},mixArt(){return this.art},mixArtHash(){return this.mixArt.artHash},mixColl(){return this.currColl},mixVisGraph(){return this.currVisGraph},nCitedBy(){return i.a.property("nCitedBys")(this.mixArt)||i.a.property("nCitedBy")(this.mixArt)},nCitedBys(){return this.nCitedBy},nCitedByText(){return i.a.isNil(this.nCitedBy)?null:`Cited by ${this.nCitedBy}`},title(){return i.a.property("title")(this.mixArt)},abstract(){return i.a.property("abstract")(this.mixArt)},venue(){return i.a.property("venue.name")(this.mixArt)||i.a.property("venues[0].name")(this.mixArt)},year(){return i.a.toNumber(i.a.property("year")(this.mixArt))},collArts(){return i.a.property("articles")(this.mixColl)},nReferences(){return i.a.property("nReferences")(this.mixArt)},references(){return i.a.property("references.articles")(this.mixArt)}}}},e42c:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list-item",t._g({nativeOn:{pointerenter:function(e){return t.onMouseEnter(e)},pointerleave:function(e){return t.onMouseLeave(e)}}},t.$listeners),[r("div",{style:t.leftSideStyle}),t.title?r("v-list-item-content",{staticStyle:{"justify-content":"space-evenly"}},[r("div",{staticClass:"caption text-truncate font-weight-bold"},[t._v(t._s(t.label))]),r("div",{staticClass:"body-1 text-truncate font-weight-medium full-width"},[t._v("\n      "+t._s(t.title)+"\n    ")]),r("div",{staticClass:"caption text-truncate font-weight-light full-width"},[t._v("\n      "+t._s(t.abstract)+"\n    ")]),r("pv-drawer-article-stats-row",{staticClass:"caption font-weight-thin",attrs:{venue:t.venue,year:t.year,nReferences:t.nReferences,nCitedBys:t.nCitedBys}})],1):r("v-list-item-content",{staticClass:"caption"},[t._v("\n    Missing info for "+t._s(t.mixArtHash)+" \n  ")]),r("div",{style:t.rightSideStyle})],1)},i=[],a=r("57c3"),n=r("b971"),o=r("528f");const l=Object(a["a"])(t=>t.art.artHash);var c={name:"PvDrawerArticleListTile",components:{PvDrawerArticleStatsRow:o["a"]},mixins:[l,n["a"]],props:{art:Object},data:()=>({sideWidth:"8px"}),computed:{leftSideStyle(){return{position:"absolute",width:this.sideWidth,height:"100%",left:"0px",background:this.collReferenceColor}},rightSideStyle(){return{position:"absolute",width:this.sideWidth,height:"100%",right:"0px",background:this.collCitedByColor}}}},h=c,d=(r("b498"),r("2877")),u=r("6544"),p=r.n(u),v=r("da13"),m=r("5d23"),b=Object(d["a"])(h,s,i,!1,null,"784301d2",null);e["a"]=b.exports;p()(b,{VListItem:v["a"],VListItemContent:m["a"]})},feb6:function(t,e,r){}}]);
//# sourceMappingURL=chunk-26666f5c.8cdbbd31.js.map