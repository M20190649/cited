{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a4b6","webpack:///./src/App.vue?fa1e","webpack:///src/App.vue","webpack:///./src/App.vue?28fb","webpack:///./src/App.vue?f7c3","webpack:///./src/router.js","webpack:///./src/components/hierarchicaltags.js","webpack:///./src/store.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/visgraph.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","component","VApp","NotFound","PvDrawerArticleView","PvDrawerRelativeList","SaCollectionView","SaDrawerCollectionView","SaSearchView","use","routes","path","props","children","fromColl","coll","collArts","articles","hierTagsList","map","collArt","rawTags","tags","splitTags","split","createTagLevel","splitTag","isEmpty","child","tail","artHashes","artHash","list","assign","hierTags","mergeWith","objVal","srcVal","isArray","concat","defaultFilters","yearMin","yearMax","tagSelects","defaultState","contentState","drawerState","articleEditable","currUserId","currCollId","currColl","currVisGraph","currHierTags","currArtId","currArt","filters","isDrawerOpen","temporaryArticleIds","hoveringArticleId","selectedArticleIds","parseVis","namespaced","state","mutations","newState","collId","artId","actions","context","prevCollId","prevArtId","commit","isNil","docRef","doc","snapshot","fetchArtBySsId","httpsCallable","fetchArtRefColl","fetchArt","async","artRef","artSnap","exists","id","fetchColl","collRef","collSnap","isArtHash","toInteger","citedBy","art","ssArt","ssCitedBy","dbCollSnap","references","reference","externs","semanticScholar","getters","Store","icons","iconfont","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","router","autoTracking","exception","debug","sendHitTask","command","category","action","label","$ga","importCss","isEnabled","logLevel","stringifyArguments","showLogLevel","showMethodName","separator","showConsoleColors","config","productionTip","store","vuetify","h","App","$mount","ArtGraph","artsMap","adjLists","mapValues","citedBys","forEach","relations","relation","arts","nodeIds","keys","referenceIds","isString","intersection","referenceId","graph","getArt","fromArts","pick","adjList","values","getNode","that","flatMap","currId","citedById","nodeId","inGraphReferenceIds","getInGraphReferenceIds","inGraphCitedByIds","getInGraphCitedByIds","levelsMaps","max","currNodeId","rootProp","connProp","recStack","levelsMap","currLevel","connNodeIds","noLoops","connNodeId","recurTreeNodeLevel","every","Boolean","rootId","constant","rootIdsMap","pickBy","rootIds","treeNodeLevelsMaps","getTreeNodeLevels","mergeTreeNodeLevels","getNodeLevels","paths","currCitedById","getAllPathsBetween","filter","VisGraph","grid","colRowsMap","statsMap","makeColRowsMap","makeAdjLists","fromArtGraph","visGraph","insertArt","visNodeIds","extractSubgraph","merge","referenceLevelsMap","getNodeInGraphReferenceLevels","citedByLevelsMap","getNodeInGraphCitedByLevels","maxReferenceLevel","nCol","colIdxRangesMap","minColIdx","maxColIdx","min","nodeIdsByColIdxRange","sortBy","range","nInGraphReference","size","nInGraphCitedBy","nConn","colIdxMap","Array","referenceColIndexes","existingReferenceColIndexes","v","nNeighborReferenceNode","colIdx","citedByIds","citedByColIndexes","existingCitedByColIndexes","nNeighborCitedByNode","cols","nNodes","colOffset","indexOf","sortedGrid","col","sortedArtIdColumn","iCol","iRow","row","visConnsMap","referencesMap","citedBysMap","idLinks","links","allPaths","maxLength","visNodeId","weight","visConn","currColRow","referenceColRow","x","y","citedByColRow","nodes","getVisNode","colRow","inGraphVisReferenceIds","getInGraphVisReferenceIds","inGraphVisCitedByIds","getInGraphVisCitedByIds","visStatus"],"mappings":"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","file":"js/app.a9dc137c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1556f357\":\"4f0d432c\",\"chunk-3365d8dc\":\"fbc9cac2\",\"chunk-7cd1dbd8\":\"cdb2dc6e\",\"chunk-26666f5c\":\"8cdbbd31\",\"chunk-afecd84e\":\"f67eb1dd\",\"chunk-182c4384\":\"8acf1b07\",\"chunk-8a1c9d16\":\"853c3778\",\"chunk-c24031aa\":\"e296af3b\",\"chunk-54c9ee4f\":\"700d015f\",\"chunk-2d0e5e97\":\"f4238695\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-1556f357\":1,\"chunk-7cd1dbd8\":1,\"chunk-26666f5c\":1,\"chunk-afecd84e\":1,\"chunk-182c4384\":1,\"chunk-8a1c9d16\":1,\"chunk-c24031aa\":1,\"chunk-54c9ee4f\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1556f357\":\"ad3c014e\",\"chunk-3365d8dc\":\"31d6cfe0\",\"chunk-7cd1dbd8\":\"6ac5c7c4\",\"chunk-26666f5c\":\"266a03f3\",\"chunk-afecd84e\":\"84a9cab0\",\"chunk-182c4384\":\"b269b73f\",\"chunk-8a1c9d16\":\"bf930cd8\",\"chunk-c24031aa\":\"9f7697f7\",\"chunk-54c9ee4f\":\"41a6e9f8\",\"chunk-2d0e5e97\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app>\n    <router-view />\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /*text-align: center;*/\n  color: #2c3e50;\n  /*margin-top: 60px;*/\n}\n</style>\n","import mod from \"-!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7ff0b9d4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","import Vue from 'vue'\nimport Router from 'vue-router'\n\nconst NotFound = () => import('@/views/NotFound')\n// const LandingPage = () => import('@/views/LandingPage')\n// const PvCollectionView = () => import('@/views/PvCollectionView')\nconst PvDrawerArticleView = () => import('@/views/PvDrawerArticleView')\n// const PvDrawerCollectionView = () => import('@/views/PvDrawerCollectionView')\n// const PvDrawerCollectionList = () => import('@/views/PvDrawerCollectionList')\nconst PvDrawerRelativeList = () => import('@/views/PvDrawerRelativeList')\n// const PvHomeView = () => import('@/views/PvHomeView')\nconst SaCollectionView = () => import('@/views/SaCollectionView')\nconst SaDrawerCollectionView = () => import('@/views/SaDrawerCollectionView')\nconst SaSearchView = () => import('@/views/SaSearchView')\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    // { path: '/', component: PvHomeView },\n    // { path: '/landing', component: LandingPage },\n    // {\n    //   path: '/coll/:collId',\n    //   component: PvCollectionView,\n    //   props: true,\n    //   children: [\n    //     { path: '', component: PvDrawerCollectionView },\n    //     { path: 'list', component: PvDrawerCollectionList },\n    //     { path: ':artId', component: PvDrawerArticleView },\n    //     {\n    //       path: ':artId/:relationProp',\n    //       component: PvDrawerRelativeList,\n    //       props: true\n    //     }\n    //   ]\n    // },\n    // { path: '/art/:artId', component: PvArtView },\n    { path: '/', component: SaSearchView },\n    {\n      path: '/coll/:collId',\n      component: SaCollectionView,\n      props: true,\n      children: [\n        { path: '', component: SaDrawerCollectionView },\n        { path: ':artId', component: PvDrawerArticleView },\n        {\n          path: ':artId/:relationProp',\n          component: PvDrawerRelativeList,\n          props: true\n        }\n      ]\n    },\n    { path: '*', component: NotFound }\n  ]\n})\n","import _ from 'lodash'\n\nexport function fromColl (coll) {\n  const collArts = coll.articles\n  const hierTagsList = _.map(collArts, collArt => {\n    const rawTags = collArt.tags\n    const splitTags = _.map(rawTags, tag => _.split(tag, '::'))\n    const createTagLevel = splitTag => {\n      if (_.isEmpty(splitTag)) {\n        return\n      }\n      const child = createTagLevel(_.tail(splitTag))\n      const tag = {\n        name: _.head(splitTag),\n        artHashes: [ collArt.artHash ]\n      }\n      return child ? { ...tag, children: { [child.name]: child } } : tag\n    }\n    const list = _.map(splitTags, createTagLevel)\n    return Object.assign({}, ..._.map(list, tag => ({ [tag.name]: tag })))\n  })\n  const hierTags = _.mergeWith({}, ...hierTagsList, (objVal, srcVal) => {\n    if (_.isArray(objVal)) {\n      return objVal.concat(srcVal)\n    }\n  })\n  return hierTags\n}","import _ from 'lodash'\nimport * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/functions'\nimport {\n  fromColl as computeHierarchicalTags\n} from '@/components/hierarchicaltags.js'\nimport { VisGraph } from '@/components/visgraph.js'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst defaultFilters = {\n  yearMin: null,\n  yearMax: null,\n  tagSelects: {}\n}\n\nconst defaultState = {\n  contentState: 'home-view',\n  drawerState: {\n    name: 'pv-drawer-collection-list',\n    props: {}\n  },\n  articleEditable: false,\n  currUserId: null,\n  currCollId: null,\n  currColl: null,\n  currVisGraph: null,\n  currHierTags: null,\n  currArtId: null,\n  currArt: null,\n  filters: defaultFilters,\n  isDrawerOpen: true,\n  temporaryArticleIds: [],\n  hoveringArticleId: null,\n  selectedArticleIds: []\n}\n\nconst parseVis = {\n  namespaced: true,\n  state: { ...defaultState },\n  mutations: {\n    set (state, newState) {\n      Object.assign(state, { ...state, ...newState })\n    },\n    reset (state) {\n      Object.assign(state, defaultState)\n    },\n    setFilters (state, filters) {\n      Object.assign(state.filters, { ...state.filters, ...filters })\n    },\n    setCollArtId (state, { collId, artId }) {\n      // commit state\n      if (!collId && !artId) {\n        // landing page or home view\n        Object.assign(state, {\n          contentState: 'home-view',\n          currCollId: null,\n          currColl: null,\n          currVisGraph: null,\n          currArtId: null,\n          currArt: null,\n          drawerState: { name: 'pv-drawer-collection-list' }\n        })\n        return\n      }\n      if (collId && !artId) {\n        // vis view with collection drawer\n        Object.assign(state, {\n          contentState: 'vis-view',\n          currCollId: collId,\n          currArtId: null,\n          currArt: null,\n          drawerState: { name: 'pv-drawer-collection-view' }\n        })\n        return\n      }\n      if (collId && artId) {\n        // vis view with article drawer\n        Object.assign(state, {\n          contentState: 'vis-view',\n          currCollId: collId,\n          currArtId: artId,\n          drawerState: { name: 'pv-drawer-article-view' }\n        })\n        return\n      }\n      if (!collId && artId) {\n        // TODO: article view\n        throw new Error('full screen article view is not implemented yet.')\n      }\n      throw new Error(`unknown information for fetching collections:\n        collId = ${collId} and artId = ${artId}`)\n    }\n  },\n  actions: {\n    async setCollArt (context, { collId, artId }) {\n      const prevCollId = context.state.currCollId\n      const prevArtId = context.state.currArtId\n      context.commit('setCollArtId', { collId, artId })\n      if (prevCollId === collId && prevArtId === artId) {\n        return\n      }\n      let currColl = _.isNil(collId) ? null : context.state.currColl\n      let currVisGraph = _.isNil(collId) ? null : context.state.currVisGraph\n      let currHierTags = _.isNil(collId) ? null : context.state.currHierTags\n      let currArt = _.isNil(artId) ? null : context.state.currArt\n      if (prevCollId !== collId && !_.isNil(collId)) {\n        // collection changes\n        const docRef = firebase.firestore().doc(`collections/${collId}`)\n        const snapshot = await docRef.get()\n        const coll = snapshot.data()\n        currColl = coll\n        currVisGraph = VisGraph.fromColl(currColl)\n        // compute hierarchical tags\n        currHierTags = computeHierarchicalTags(coll)\n      }\n      if (prevArtId !== artId && !_.isNil(artId)) {\n        // article changes\n        const docRef = firebase.firestore().doc(`articles/${artId}`)\n        const snapshot = await docRef.get()\n        currArt = {\n          ...snapshot.data(),\n          artHash: artId\n        }\n      }\n      context.commit('set', {\n        currColl, currVisGraph, currHierTags, currArt\n      })\n    },\n    async fetchCollArt (context, { collId, artId }) {\n      const fetchArtBySsId =\n        firebase.functions().httpsCallable('fetchArtBySsId')\n      const fetchArtRefColl =\n        firebase.functions().httpsCallable('fetchArtRefColl')\n      const fetchArt = async (artHash) => {\n        if (!artHash) {\n          return null\n        }\n        const artRef = firebase.firestore().doc(`articles/${artHash}`)\n        const artSnap = await artRef.get()\n        return artSnap.exists\n          ? { ...artSnap.data(), artHash: artSnap.id }\n          : null\n      }\n      const fetchColl = async (collId) => {\n        const collRef = firebase.firestore().doc(`collections/${collId}`)\n        const collSnap = await collRef.get()\n        return collSnap.exists\n          ? { ...collSnap.data(), collId: collSnap.id }\n          : null\n      }\n      const currArt = await fetchArt(artId)\n      const isArtHash = _.toInteger(_.property('[1]')(_.split(collId, '-')))\n      if (isArtHash) {\n        context.commit('setCollArtId', { collId: collId, artId: artId })\n        const [ citedBy, coll ] =\n          await Promise.all([ await fetchArt(collId), await fetchColl(collId) ])\n        if (!citedBy || !coll) {\n          throw new Error(`there is no ${collId} in articles or collections`)\n        }\n        const currColl = { ...coll, citedBy }\n        const currVisGraph = VisGraph.fromColl(currColl)\n        context.commit('set', { currColl, currVisGraph, currArt })\n\n      } else {\n        const { data: { art: citedBy, ssArt: ssCitedBy } } =\n          await fetchArtBySsId(collId)\n        context.commit('setCollArtId', { collId: collId, artId: artId })\n        const dbCollSnap =\n          await firebase.firestore().doc(`collections/${citedBy.artHash}`).get()\n        if (dbCollSnap.exists) {\n          const currColl = { ...dbCollSnap.data(), citedBy }\n          const currVisGraph = VisGraph.fromColl(currColl)\n          context.commit('set', { currColl, currVisGraph, currArt })\n        } else {\n          await Promise.all(_.map(ssCitedBy.references, async reference => {\n            await fetchArtBySsId(reference.externs.semanticScholar)\n          }))\n          const { data: coll } = await fetchArtRefColl(citedBy.artHash)\n          const currColl = { ...coll, citedBy }\n          const currVisGraph = VisGraph.fromColl(currColl)\n          context.commit('set', { currColl, currVisGraph, currArt })\n        }\n      }\n    }\n  },\n  getters: {\n\n  }\n}\n\nexport default new Vuex.Store({\n  modules: {\n    parseVis\n  },\n  state: {\n\n  },\n  mutations: {\n\n  },\n  actions: {\n\n  }\n})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi',\n  },\n});\n","import Vue from 'vue'\nimport VueAnalytics from 'vue-analytics'\nimport VueAsyncComputed from 'vue-async-computed'\nimport VueLineClamp from 'vue-line-clamp'\nimport VueLogger from 'vuejs-logger'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify';\nimport * as firebase from 'firebase/app'\n\nfirebase.initializeApp({\n  apiKey: 'AIzaSyDd_ilM5YG9lBjCiXUx9r71fUrkW-lFSbg',\n  authDomain: 'cited-3891b.firebaseapp.com',\n  databaseURL: 'https://cited-3891b.firebaseio.com',\n  projectId: 'cited-3891b',\n  storageBucket: '',\n  messagingSenderId: '1079857398647',\n  appId: '1:1079857398647:web:597796944284dd62'\n})\n\nVue.use(VueAsyncComputed)\nVue.use(VueAnalytics, {\n  id: 'UA-131008086-1',\n  router,\n  autoTracking: {\n    exception: true\n  },\n  debug: {\n    sendHitTask: process.env.NODE_ENV === 'production'\n  },\n  command: {\n    event (category, action, label, value) {\n      this.$ga.event(category, action, label, value)\n    }\n  }\n})\nVue.use(VueLineClamp, { importCss: true })\nVue.use(VueLogger, {\n  isEnabled: true,\n  logLevel : process.env.NODE_ENV === 'production' ? 'error' : 'debug',\n  stringifyArguments : false,\n  showLogLevel : true,\n  showMethodName : true,\n  separator: '|',\n  showConsoleColors: true\n})\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","import _ from 'lodash'\n\nexport class ArtGraph {\n  constructor (artsMap, adjLists) {\n    this.artsMap = artsMap || {}\n    this.adjLists = adjLists || {}\n  }\n\n  static fromColl (coll) {\n    const artsMap =\n      Object.assign(\n        {}, ..._.map(coll.articles, art => ({ [art.artHash]: art })))\n    const adjLists =\n      _.mapValues(artsMap, () => ({ references: [], citedBys: [] }))\n    _.forEach(coll.relations, relation => {\n      adjLists[relation.reference].citedBys.push(relation.citedBy)\n      adjLists[relation.citedBy].references.push(relation.reference)\n    })\n    return new ArtGraph(artsMap, adjLists)\n  }\n\n  static fromArts (arts) {\n    const artsMap =\n      Object.assign(\n        {}, ..._.map(arts, art => ({ [art.artHash]: art })))\n    const adjLists =\n      _.mapValues(artsMap, () => ({ references: [], citedBys: [] }))\n    const nodeIds = _.keys(artsMap)\n    _.forEach(artsMap, art => {\n      const referenceIds = _.map(art.references, reference => {\n        return _.isString(reference) ? reference : reference.artHash\n      })\n      adjLists[art.artHash].references = _.intersection(referenceIds, nodeIds)\n      _.forEach(adjLists[art.artHash].references, referenceId => {\n        adjLists[referenceId].citedBys.push(art.artHash)\n      })\n    })\n    return new ArtGraph(artsMap, adjLists)\n  }\n\n  static async insertArt (graph, art, fetchArt) {\n    if (graph.getArt(art.artHash)) {\n      return graph\n    }\n    const arts = await Promise.all(_.map([ ...graph.arts, art ], async art => {\n      return _.isNil(art.references) ? fetchArt(art.artHash) : art\n    }))\n    return ArtGraph.fromArts(arts)\n  }\n\n  static extractSubgraph (graph, nodeIds) {\n    const artsMap = _.pick(graph.artsMap, nodeIds)\n    const adjLists = _.mapValues(_.pick(graph.adjLists, nodeIds), adjList => ({\n      references: _.intersection(adjList.references, nodeIds),\n      citedBys: _.intersection(adjList.citedBys, nodeIds)\n    }))\n    return new ArtGraph(artsMap, adjLists)\n  }\n\n  get arts () { return _.values(this.artsMap) }\n\n  get nodes () {\n    return _.map(this.artsMap, art => this.getNode(art.artHash))\n  }\n\n  get nodeIds () {\n    return _.keys(this.artsMap)\n  }\n\n  get links () {\n    const that = this\n    return _.flatMap(that.adjLists, (adjList, currId) => {\n      return _.map(adjList.references, referenceId => ({\n        referenceId: referenceId,\n        get reference () { return that.getNode(this.referenceId) },\n        citedById: currId,\n        get citedBy () { return that.getNode(this.citedById) }\n      }))\n    })\n  }\n\n  getArt (nodeId) {\n    return this.artsMap[nodeId]\n  }\n\n  getNode (nodeId) {\n    const that = this\n    const art = that.getArt(nodeId)\n    if (!art) {\n      throw new Error(`${nodeId} does not exist in graph`)\n    }\n    return {\n      nodeId: art.artHash,\n      art: art,\n      inGraphReferenceIds: that.getInGraphReferenceIds(nodeId),\n      get inGraphReferences () {\n        return _.map(\n          this.inGraphReferenceIds, referenceId => that.getNode(referenceId))\n      },\n      inGraphCitedByIds: that.getInGraphCitedByIds(nodeId),\n      get inGraphCitedBys () {\n        return _.map(\n          this.inGraphCitedByIds, citedById => that.getNode(citedById))\n      }\n    }\n  }\n\n  getInGraphReferenceIds (nodeId) {\n    return _.property('references')(this.adjLists[nodeId])\n  }\n\n  getInGraphCitedByIds (nodeId) {\n    return _.property('citedBys')(this.adjLists[nodeId])\n  }\n\n  mergeTreeNodeLevels (levelsMaps) {\n    return _.mapValues(this.adjLists, (value, nodeId) => {\n      return _.max(_.map(levelsMaps, _.property(nodeId)))\n    })\n  }\n\n  recurTreeNodeLevel (\n      currNodeId, rootProp, connProp, recStack, levelsMap, currLevel) {\n    const connNodeIds = this.adjLists[currNodeId][connProp]\n    // if leaf node\n    if (_.isEmpty(connNodeIds)) {\n      levelsMap[currNodeId] = _.max([ currLevel, levelsMap[currNodeId] ])\n      return true\n    }\n    // if already visited and the existing level is higher\n    if (levelsMap[currNodeId] > currLevel) {\n      return true\n    }\n    // if loop node\n    if (recStack[currNodeId]) {\n      return false\n    }\n    // recur downward\n    recStack[currNodeId] = true\n    levelsMap[currNodeId] = currLevel\n    const noLoops = _.map(connNodeIds, connNodeId => {\n      return this.recurTreeNodeLevel(\n        connNodeId, rootProp, connProp, recStack, levelsMap, currLevel + 1)\n    })\n    recStack[currNodeId] = false\n    return _.every(noLoops, Boolean)\n  }\n\n  getTreeNodeLevels (rootId, rootProp, connProp) {\n    const levelsMap = _.mapValues(this.adjLists, _.constant(0))\n    const recStack = _.mapValues(this.adjLists, _.constant(false))\n    // DFS to calculate node levels in this tree\n    this.recurTreeNodeLevel(rootId, rootProp, connProp, recStack, levelsMap, 0)\n    return levelsMap\n  }\n\n  getNodeLevels (rootProp, connProp) {\n    // new algorithm that can handle loops in a graph\n    const rootIdsMap =\n      _.pickBy(this.adjLists, adjList => _.isEmpty(adjList[rootProp]))\n    const rootIds = _.keys(rootIdsMap)\n    const treeNodeLevelsMaps = _.map(rootIds, rootId => {\n      return this.getTreeNodeLevels(rootId, rootProp, connProp)\n    })\n    return this.mergeTreeNodeLevels(treeNodeLevelsMaps)\n    // // original algorithm that loops infinitely when there are loop(s)\n    // const levelsMap = _.mapValues(this.adjLists, _.constant(0))\n    // const rootIdsMap =\n    //   _.pickBy(this.adjLists, adjList => {\n    //     return _.isEmpty(adjList[rootProp])\n    //   })\n    // const rootIds = _.keys(rootIdsMap)\n    // const visited = {}\n    // _.forEach(rootIds, nodeId => {\n    //   levelsMap[nodeId] = 0\n    //   visited[nodeId] = true\n    // })\n    // let bfsQueue = [ ...rootIds ]\n    // while (bfsQueue.length > 0) {\n    //   const currNodeId = bfsQueue.shift()\n    //   const connNodeIds = this.adjLists[currNodeId][connProp]\n    //   _.forEach(connNodeIds, connNodeId => {\n    //     levelsMap[connNodeId] = levelsMap[connNodeId]\n    //       ? Math.max(levelsMap[currNodeId] + 1, levelsMap[connNodeId])\n    //       : levelsMap[currNodeId] + 1\n    //     visited[currNodeId] = true\n    //     if (!visited[connNodeId]) {\n    //       bfsQueue.push(connNodeId)\n    //     }\n    //   })\n    // }\n    // return levelsMap\n  }\n\n  getNodeInGraphReferenceLevels () {\n    return this.getNodeLevels('references', 'citedBys')\n  }\n\n  getNodeInGraphCitedByLevels () {\n    return this.getNodeLevels('citedBys', 'references')\n  }\n\n  getAllPathsBetween (referenceId, citedById, path = [], recStack = {}) {\n    if (referenceId === citedById) {\n      return [ path ]\n    }\n    if (recStack[referenceId]) {\n      return [ path ]\n    }\n    if (_.isEmpty(this.getInGraphCitedByIds(referenceId))) {\n      return false\n    }\n    recStack[referenceId] = true\n    const paths =\n      _.concat(\n        ..._.map(this.getInGraphCitedByIds(referenceId), currCitedById => {\n          const paths =\n            this.getAllPathsBetween(\n              currCitedById,\n              citedById,\n              [ ...path, { reference: referenceId, citedBy: currCitedById } ],\n              recStack)\n          return paths\n        }))\n    recStack[referenceId] = false\n    return _.filter(paths)\n  }\n}\n\nexport class VisGraph {\n  constructor (graph, grid, colRowsMap, adjLists, statsMap) {\n    this.graph = graph || new ArtGraph()\n    this.grid = grid || []\n    this.colRowsMap = colRowsMap || {}\n    this.adjLists = adjLists || {}\n    this.statsMap = statsMap || {}\n  }\n\n  static fromArtGraph (graph) {\n    // construct attributes for visualization\n    const { grid, colRowsMap } = VisGraph.makeColRowsMap(graph)\n    const adjLists = VisGraph.makeAdjLists(graph, colRowsMap)\n    const statsMap = _.mapValues(adjLists, () => ({}))\n    return new VisGraph(graph, grid, colRowsMap, adjLists, statsMap)\n  }\n\n  static fromColl (coll) {\n    return VisGraph.fromArtGraph(ArtGraph.fromColl(coll))\n  }\n\n  static fromArts (arts) {\n    return VisGraph.fromArtGraph(ArtGraph.fromArts(arts))\n  }\n\n  static async insertArt (visGraph, art, fetchArt) {\n    return VisGraph.fromArtGraph(\n      await ArtGraph.insertArt(visGraph.graph, art, fetchArt))\n  }\n\n  static extractSubgraph (visGraph, visNodeIds) {\n    return VisGraph.fromArtGraph(\n      ArtGraph.extractSubgraph(visGraph.graph, visNodeIds))\n  }\n\n  static mergeStats (visGraph, statsMap) {\n    return new VisGraph(\n      visGraph.graph /* graph */,\n      visGraph.grid /* grid */,\n      visGraph.colRowsMap /* colRowsMap */,\n      visGraph.adjLists /* adjLists */,\n      _.merge({}, visGraph.statsMap, statsMap) /* statsMap */)\n  }\n\n  static makeColRowsMap (graph) {\n    const referenceLevelsMap = graph.getNodeInGraphReferenceLevels()\n    const citedByLevelsMap = graph.getNodeInGraphCitedByLevels()\n    const maxReferenceLevel = _.max(_.values(referenceLevelsMap)) || 0\n    const nCol = maxReferenceLevel + 1\n    const colIdxRangesMap =\n      _.mapValues(graph.adjLists, (adjList, nodeId) => {\n        const minColIdx = referenceLevelsMap[nodeId]\n        const maxColIdx = nCol - citedByLevelsMap[nodeId] - 1\n        return { min: minColIdx, max: maxColIdx }\n      })\n    // sort by column index range\n    const nodeIds = graph.nodeIds\n    const nodeIdsByColIdxRange = _.sortBy(nodeIds, nodeId => {\n      const range = colIdxRangesMap[nodeId].max - colIdxRangesMap[nodeId].min\n      const nInGraphReference = _.size(graph.getInGraphReferenceIds(nodeId))\n      const nInGraphCitedBy = _.size(graph.getInGraphCitedByIds(nodeId))\n      const nConn = nInGraphReference + nInGraphCitedBy\n      return range * 10000 - nConn\n    })\n    // use the sorted array as a queue\n    const colIdxMap = {}\n    const grid = _.map(new Array(nCol), () => [])\n    _.forEach(nodeIdsByColIdxRange, nodeId => {\n      // only one possible column for the node\n      if (colIdxRangesMap[nodeId].min === colIdxRangesMap[nodeId].max) {\n        colIdxMap[nodeId] = colIdxRangesMap[nodeId].min\n        grid[colIdxRangesMap[nodeId].min].push(nodeId)\n      } else {\n        // get min column index from referencing articles\n        const referenceIds = graph.getInGraphReferenceIds(nodeId)\n        const referenceColIndexes =\n          _.map(referenceIds, nodeId => colIdxMap[nodeId])\n        const existingReferenceColIndexes =\n          _.filter(referenceColIndexes, v => !_.isNil(v))\n        const minColIdx =\n          _.max([\n            ...existingReferenceColIndexes, colIdxRangesMap[nodeId].min - 1\n          ]) + 1\n        const nNeighborReferenceNode =\n          _.size(\n            _.filter(\n              existingReferenceColIndexes, colIdx => colIdx === minColIdx - 1))\n        // get max column index from citedBy articles\n        const citedByIds = graph.getInGraphCitedByIds(nodeId)\n        const citedByColIndexes =\n          _.map(citedByIds, nodeId => colIdxMap[nodeId])\n        const existingCitedByColIndexes =\n          _.filter(citedByColIndexes, v => !_.isNil(v))\n        const maxColIdx =\n          _.min([\n            ...existingCitedByColIndexes, colIdxRangesMap[nodeId].max + 1\n          ]) - 1\n        const nNeighborCitedByNode =\n          _.size(\n            _.filter(\n              existingCitedByColIndexes, colIdx => colIdx === maxColIdx + 1))\n        // set column index to maximize neighboring paths\n        if (nNeighborReferenceNode === 0 && nNeighborCitedByNode === 0) {\n          // put in the column with fewest articles\n          const cols = _.slice(grid, minColIdx, maxColIdx + 1)\n          const nNodes = _.map(cols, _.size)\n          const colOffset = _.indexOf(nNodes, _.min(nNodes))\n          const colIdx = minColIdx + colOffset\n          colIdxMap[nodeId] = colIdx\n          grid[colIdx].push(nodeId)\n        } else if (nNeighborReferenceNode >= nNeighborCitedByNode) {\n          colIdxMap[nodeId] = minColIdx\n          grid[minColIdx].push(nodeId)\n        } else {\n          colIdxMap[nodeId] = maxColIdx\n          // console.log(nodeId, maxColIdx, colIdxMap['ackley-1985-7b723a46d9939c76'], citedByIds, citedByColIndexes, existingCitedByColIndexes, colIdxRangesMap[nodeId])\n          grid[maxColIdx].push(nodeId)\n        }\n      }\n    })\n    // sort rows within columns\n    const sortedGrid = _.map(grid, col => {\n      return _.sortBy(col, nodeId => {\n        // const colIdxRange =\n        //   colIdxRangesMap[nodeId].max - colIdxRangesMap[nodeId].min\n        const nInGraphReference = _.size(graph.getInGraphReferenceIds(nodeId))\n        const nInGraphCitedBy = _.size(graph.getInGraphCitedByIds(nodeId))\n        // return colIdxRange * 10000 - nInGraphCitedBy - nInGraphReference\n        return 0 - nInGraphCitedBy - nInGraphReference\n      })\n    })\n    // return colRowsMap\n    const colRowsMap = {}\n    _.forEach(sortedGrid, (sortedArtIdColumn, iCol) => {\n      _.forEach(sortedArtIdColumn, (nodeId, iRow) => {\n        colRowsMap[nodeId] = { col: iCol, row: iRow }\n      })\n    })\n    return { grid: sortedGrid, colRowsMap }\n  }\n\n  static makeAdjLists (graph, colRowsMap) {\n    const visConnsMap = _.mapValues(graph.adjLists, () => ({\n      referencesMap: {}, citedBysMap: {}\n    }))\n    const idLinks = graph.links\n    _.forEach(idLinks, ({ referenceId, citedById }) => {\n      const allPaths = graph.getAllPathsBetween(referenceId, citedById)\n      const maxLength = _.max(_.map(allPaths, path => _.size(path)))\n      const paths = _.filter(allPaths, path => _.size(path) === maxLength)\n      _.forEach(paths, path => {\n        _.forEach(path, ({ reference: referenceId, citedBy: citedById }) => {\n          visConnsMap[referenceId].citedBysMap[citedById] =\n            visConnsMap[referenceId].citedBysMap[citedById] ||\n            { visNodeId: citedById, weight: 0 }\n          ++visConnsMap[referenceId].citedBysMap[citedById].weight\n          visConnsMap[citedById].referencesMap[referenceId] =\n            visConnsMap[citedById].referencesMap[referenceId] ||\n            { visNodeId: referenceId, weight: 0 }\n          ++visConnsMap[citedById].referencesMap[referenceId].weight\n        })\n      })\n    })\n    const adjLists = _.mapValues(visConnsMap, visConn => ({\n      references: _.values(visConn.referencesMap),\n      citedBys: _.values(visConn.citedBysMap)\n    }))\n    // sort in-graph connections according to columns and rows\n    _.forEach(adjLists, (adjList, currId) => {\n      const currColRow = colRowsMap[currId]\n      adjList.references =\n        _.sortBy(adjList.references, ({ visNodeId: referenceId }) => {\n          const referenceColRow = colRowsMap[referenceId]\n          const x = referenceColRow.col - currColRow.col\n          const y = referenceColRow.row - currColRow.row\n          return -y / x\n        })\n      adjList.citedBys =\n        _.sortBy(adjList.citedBys, ({ visNodeId: citedById }) => {\n          const citedByColRow = colRowsMap[citedById]\n          const x = citedByColRow.col - currColRow.col\n          const y = citedByColRow.row - currColRow.row\n          return y / x\n        })\n    })\n    return adjLists\n  }\n\n  get arts () {\n    return this.graph.arts\n  }\n\n  get artHashes () {\n    return _.map(this.arts, art => art.artHash)\n  }\n\n  get links () {\n    return this.graph.links\n  }\n\n  get nodes () {\n    return this.graph.nodes\n  }\n\n  get visLinks () {\n    const that = this\n    return _.flatMap(that.adjLists, (adjList, currId) => {\n      return _.map(\n        adjList.references, ({ visNodeId: referenceId, weight }) => ({\n          referenceId: referenceId,\n          get reference () { return that.getVisNode(this.referenceId) },\n          citedById: currId,\n          get citedBy () { return that.getVisNode(this.citedById) },\n          weight\n        }))\n    })\n  }\n\n  get visNodes () {\n    return _.map(\n      this.adjLists, (adjList, visNodeId) => this.getVisNode(visNodeId))\n  }\n\n  get visNodeIds () {\n    return _.keys(this.adjLists)\n  }\n\n  has (nodeId) {\n    return !_.isNil(this.adjLists[nodeId])\n  }\n\n  getArt (visNodeId) {\n    return this.graph.getArt(visNodeId)\n  }\n\n  getVisNode (visNodeId) {\n    const that = this\n    const art = that.getArt(visNodeId)\n    if (!art) {\n      throw new Error(`${visNodeId} does not exist in vis graph`)\n    }\n    return {\n      visNodeId: visNodeId,\n      art: that.getArt(visNodeId),\n      colRow: that.colRowsMap[visNodeId],\n      get col () { return this.colRow.col },\n      get row () { return this.colRow.row },\n      inGraphReferenceIds: that.graph.getInGraphReferenceIds(visNodeId),\n      get inGraphReferences () {\n        return _.map(\n          this.inGraphReferenceIds, visNodeId => that.getVisNode(visNodeId))\n      },\n      inGraphCitedByIds: that.graph.getInGraphCitedByIds(visNodeId),\n      get inGraphCitedBys () {\n        return _.map(\n          this.inGraphCitedByIds, visNodeId => that.getVisNode(visNodeId))\n      },\n      inGraphVisReferenceIds: that.getInGraphVisReferenceIds(visNodeId),\n      get inGraphVisReferences () {\n        return _.map(\n          this.inGraphVisReferenceIds,\n          ({ visNodeId, weight }) => ({\n            visNodeId,\n            get visNode () { return that.getVisNode(this.visNodeId) },\n            weight\n          }))\n      },\n      inGraphVisCitedByIds: that.getInGraphVisCitedByIds(visNodeId),\n      get inGraphVisCitedBys () {\n        return _.map(\n          this.inGraphVisCitedByIds,\n          ({ visNodeId, weight }) => ({\n            visNodeId,\n            get visNode () { return that.getVisNode(this.visNodeId) },\n            weight\n          }))\n      },\n      visStatus: that.statsMap[visNodeId]\n    }\n  }\n\n  getInGraphReferenceIds (visNodeId) {\n    return this.graph.getInGraphReferenceIds(visNodeId)\n  }\n\n  getInGraphVisReferenceIds (visNodeId) {\n    return this.adjLists[visNodeId].references\n  }\n\n  getInGraphCitedByIds (visNodeId) {\n    return this.graph.getInGraphCitedByIds(visNodeId)\n  }\n\n  getInGraphVisCitedByIds (visNodeId) {\n    return this.adjLists[visNodeId].citedBys\n  }\n}\n"],"sourceRoot":""}