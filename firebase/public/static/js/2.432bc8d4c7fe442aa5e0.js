webpackJsonp([2],{"/vOC":function(t,e){},"21It":function(t,e,n){"use strict";var r=n("FtD3");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"5VQ+":function(t,e,n){"use strict";var r=n("cGG2");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},"6cxS":function(t,e,n){var r=n("kM2E");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},"7GwW":function(t,e,n){"use strict";var r=n("cGG2"),i=n("21It"),a=n("DQCr"),o=n("oJlt"),s=n("GHBc"),c=n("FtD3");t.exports=function(t){return new Promise(function(e,u){var l=t.data,h=t.headers;r.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",p=t.auth.password||"";h.Authorization="Basic "+btoa(f+":"+p)}if(d.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,u,r),d=null}},d.onerror=function(){u(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n("p1b6"),g=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),u(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},Cdx3:function(t,e,n){var r=n("sB3e"),i=n("lktj");n("uqUo")("keys",function(){return function(t){return i(r(t))}})},DQCr:function(t,e,n){"use strict";var r=n("cGG2");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},FtD3:function(t,e,n){"use strict";var r=n("t8qj");t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},GHBc:function(t,e,n){"use strict";var r=n("cGG2");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"JP+z":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},KCLY:function(t,e,n){"use strict";(function(e){var r=n("cGG2"),i=n("5VQ+"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:("undefined"!=typeof XMLHttpRequest?s=n("7GwW"):void 0!==e&&(s=n("7GwW")),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){c.headers[t]={}}),r.forEach(["post","put","patch"],function(t){c.headers[t]=r.merge(a)}),t.exports=c}).call(e,n("W2nU"))},PrDS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Dd8w"),i=n.n(r),a=n("//Fk"),o=n.n(a),s=n("tOck"),c=n.n(s),u=n("hiCB"),l=n.n(u);function h(t){return{left:t.left,top:t.top,width:t.width,height:t.height,get right(){return this.left+this.width},get center(){return{x:this.left+this.width/2,y:this.top+this.height/2}}}}var d=n("M4fF"),f=n.n(d),p=n("iOOC"),v=n("u6Xv"),g={name:"PaperCard",props:{card:Object,autoHeight:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},paperStyle:{type:String,default:"chip"}},data:function(){return{isDragging:!1,rect:i()({},this.card.rect)}},computed:{paper:function(){return this.card.paper},authorNames:function(){return f.a.map(this.paper.authors,function(t){return p.a.stringify(t)})},cardStyle:function(){var t={left:this.rect.left+"px",top:this.rect.top+"px",width:this.rect.width+0+"px",paddingRight:"0px"},e={height:this.rect.height+"px"};return this.autoHeight?t:i()({},t,e)},citingStyle:function(){return{opacity:.8,backgroundColor:this.relationColor(this.card.inGraphCitings.length),flex:"0 0 6px"}},citedByStyle:function(){return{opacity:.8,backgroundColor:this.relationColor(this.card.inGraphCitedBys.length),flex:"0 0 6px"}},inNetworkCitationColor:function(){return this.getColor({maxLevel:4,logBase:2,value:this.card.inGraphCitedBys.length})},inNetworkReferenceColor:function(){return this.getColor({maxLevel:4,logBase:2,value:this.card.inGraphCitings.length})}},watch:{card:function(t,e){this.rect=h(t.rect)}},methods:{relationColor:function(t){var e=1-Math.exp(Math.log(1)-.2*t);return Object(v.a)(e)},emitPaperId:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];f.a.forEach(n,function(e){t.$emit(e,t.card.paper.id)})},dragElement:function(t){var e=this;if(this.draggable){t.preventDefault();var n=t.clientX,r=t.clientY,a=t.clientX,o=t.clientY;this.isDragging=!0,document.onmouseup=function(t){e.isDragging=!1,document.onmouseup=null,document.onmousemove=null;var a=t.clientX,o=t.clientY,s=a-n,c=o-r;if(Math.sqrt(s*s+c*c)>1){var u=i()({},e.card,{rect:h(e.rect)});e.$emit("dragend",u,t)}else e.$emit("clickhandle",e.card.index)},document.onmousemove=function(t){var n=t.clientX,r=t.clientY;e.rect.left+=n-a,e.rect.top+=r-o;var s=i()({},e.card,{rect:h(e.rect)});e.$emit("update:card",s),a=n,o=r}}},getColor:function(t){for(var e,n=t.maxLevel,r=t.logBase,i=t.value,a=Math.floor(i),o=0===a?0:Math.floor((e=a,Math.log(e)/Math.log(r)))+1,s=Math.min(n,o)/n,c=[50,50,50],u=[50,200,250],l=[],h=0;h<3;++h)l[h]=c[h]*(1-s)+u[h]*s;return"rgb("+l[0]+", "+l[1]+", "+l[2]+")"},console:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){console.log(t)})}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"chip"===t.paperStyle?n("div",{ref:"header",staticClass:"paper-card caption",class:{animate:!t.isDragging,"front-most":t.isDragging},staticStyle:{background:"rgba(255, 255, 255, 0.8)","border-radius":"8px","border-style":"solid","border-width":"1px",display:"flex",overflow:"hidden"},style:t.cardStyle,attrs:{index:t.card.index},on:{mousedown:function(e){return e.stopPropagation(),t.dragElement(e)},mouseover:function(e){return t.emitPaperId("mouseoverrefcount","mouseovercitecount")},mouseout:function(e){return t.emitPaperId("mouseoutrefcount","mouseoutcitecount")},click:function(e){return t.emitPaperId("clickrefcount","clickcitecount")}}},[n("div",{style:t.citingStyle}),t._v(" "),n("div",{staticClass:"py-1 px-2",staticStyle:{"flex-grow":"1","min-width":"0"}},[n("div",{staticClass:"text-xs-center font-weight-bold"},[t._v("\n      "+t._s(t.card.paper.authors[0].family.slice(0,10))+" "+t._s(t.card.paper.year)+"\n    ")]),t._v(" "),n("div",{staticClass:"text-xs-center text-truncate"},[t._v(t._s(t.card.paper.title))]),t._v(" "),n("div",{staticClass:"text-xs-center",staticStyle:{display:"flex"}},[n("span",{staticClass:"text-truncate",staticStyle:{flex:"1 1 25px"}},[t._v(t._s(t.card.paper.venue.name))]),n("span",{staticClass:"mx-2"},[t._v("-")]),n("span",[t._v("Cited by "+t._s(t.card.paper.citedByCount))])])]),t._v(" "),n("div",{style:t.citedByStyle})]):n("transition",{attrs:{name:"background"}},[n("div",{staticClass:"paper-card",class:{animate:!t.isDragging,"front-most":t.isDragging},style:t.cardStyle,attrs:{index:t.card.index}},[n("v-hover",{attrs:{"close-delay":"0"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return n("v-card",{class:"elevation-"+(r?12:2)},[n("v-system-bar",{ref:"header",style:{padding:"0px","background-color":t.card.isSelected?"orange":void 0},attrs:{status:""}},[n("span",{staticClass:"header-item",style:{"background-color":t.inNetworkReferenceColor},on:{mouseover:function(e){return t.$emit("mouseoverrefcount",t.card.paper.id)},mouseout:function(e){return t.$emit("mouseoutrefcount",t.card.paper.id)},click:function(e){return t.$emit("clickrefcount",t.card.paper.id)}}},[n("span",[t._v("< "+t._s(t.card.inGraphCitings.length)+" / "+t._s(t.card.paper.references.length))])]),t._v(" "),n("v-spacer",{staticStyle:{height:"100%"},on:{mousedown:function(e){return e.stopPropagation(),t.dragElement(e)}}}),t._v(" "),n("v-icon",{attrs:{light:""},on:{click:function(e){return t.$emit("remove",t.card.index)}}},[t._v("close")]),t._v(" "),n("span",{staticClass:"header-item",style:{"background-color":t.inNetworkCitationColor},on:{mouseover:function(e){return t.$emit("mouseovercitecount",t.card.paper.id)},mouseout:function(e){return t.$emit("mouseoutcitecount",t.card.paper.id)},click:function(e){return t.$emit("clickcitecount",t.card.paper.id)}}},[n("span",[t._v(t._s(t.card.inGraphCitedBys.length)+" / "+t._s(t.card.paper.citationCount)+" >")])])],1),t._v(" "),n("v-card-text",{staticClass:"caption"},[n("h4",[n("a",{on:{click:function(e){return t.$emit("clicktitle",t.card.index)}}},[t._v(t._s(t.card.paper.title))])]),t._v(" "),n("div",[t._l(t.authorNames,function(e,r){return[n("span",{key:"author-name-"+r},[n("a",{on:{click:t.console}},[t._v(t._s(e))])]),t._v(" "),r!=t.authorNames.length-1?n("span",{key:"author-and-"+r},[t._v("\n                and\n              ")]):t._e()]})],2),t._v(" "),n("div",[n("span",[n("a",{on:{click:t.console}},[t._v("Year "+t._s(t.card.paper.year))])]),t._v(", "),n("span",[n("a",{on:{click:t.console}},[t._v("Referenced "+t._s(t.card.paper.references.length))])]),t._v(", "),n("span",[n("a",{on:{click:t.console}},[t._v("Cited by "+t._s(t.card.paper.citationCount))])])])])],1)}}])})],1)])},staticRenderFns:[]};var y=n("VU/8")(g,m,!1,function(t){n("/vOC")},"data-v-6114f1da",null).exports,w={name:"PaperList",props:{papers:Array},methods:{formatAuthors:function(t){return p.a.stringify(t)}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{"two-line":""}},[t._l(t.papers,function(e,r){return[n("v-list-tile",{key:"tile-"+r,on:{click:function(n){return t.$emit("detail",e)}}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.title))]),t._v(" "),n("v-list-tile-sub-title",[t._v("\n          "+t._s(t.formatAuthors(e.authors))+"\n        ")]),t._v(" "),n("v-list-tile-sub-title",[t._v("year: "+t._s(e.year)+", referenced: "+t._s(e.references.length)+", cited by: "+t._s(e.citationCount))])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),t.$emit("populate",e)}}},[n("v-icon",{attrs:{color:e.references.length>0?"teal":"grey"}},[t._v("\n          dashboard\n        ")])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),t.$emit("insert",e)}}},[n("v-icon",{attrs:{color:e.references.length>0?"teal":"grey"}},[t._v("\n          plus_one\n        ")])],1)],1),t._v(" "),r+1<t.papers.length?n("v-divider",{key:"divider-"+r}):t._e()]})],2)},staticRenderFns:[]},C=n("VU/8")(w,x,!1,null,null,null).exports,b=n("mtWM"),k=n.n(b),_="https://api.crossref.org",R="chrisyeshi@gmail.com",P="",B="",S=20;function L(t){if(f.a.isEmpty(t))throw new Error("a DOI should not be empty.");var e=_+"/works/"+t+"?mailto="+R;return k.a.get(e).then(function(t){var e=t.data.message;return p.b.fromCrossref(e)})}var E={name:"PaperDetail",components:{PaperList:C},data:function(){return{paper:{references:[],authors:[]},references:[]}},watch:{paper:function(t){var e=this;this.getRefPapers(t).then(function(t){e.references=t})}},computed:{authorText:function(){return p.a.stringify(this.paper.authors)}},methods:{setPaper:function(t){this.references=[],this.paper=t},getRefPapers:function(t){var e=t.references.map(function(t){return t.doi}).filter(function(t){return!f.a.isEmpty(t)}).map(function(t){return L(t).catch(function(){return null})});return o.a.all(e).then(function(t){return t.filter(function(t){return null!==t})})}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",[t._v(t._s(t.paper.title))]),t._v(" "),n("div",[t._v(t._s(t.authorText))]),t._v(" "),n("div",[t._v("year: "+t._s(t.paper.year)+", referenced: "+t._s(t.paper.references.length)+", cited by: "+t._s(t.paper.citationCount))]),t._v(" "),n("div",[t._v("doi: "),n("a",{attrs:{target:"_blank",href:"https://doi.org/"+t.paper.doi}},[t._v(t._s(t.paper.doi))])])])]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.$emit("back")}}},[t._v("Back")]),t._v(" "),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.$emit("populate",t.paper)}}},[t._v("Populate")]),t._v(" "),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.$emit("insert",t.paper)}}},[t._v("Insert")])],1)],1),t._v(" "),n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h4",[t._v("Abstract")]),t._v(" "),n("div",[t._v(t._s(t.paper.abstract))])])])],1),t._v(" "),n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h4",[t._v("References")])])]),t._v(" "),n("paper-list",{attrs:{papers:t.references},on:{populate:function(e){return t.$emit("populate",e)},insert:function(e){return t.$emit("insert",e)},detail:function(e){return t.$emit("detail",e)}}})],1),t._v(" "),n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h4",[t._v("Cited by")]),t._v(" "),n("v-list",t._l(t.paper.citedBy,function(e,r){return n("v-list-tile",{key:r},[t._v("\n            "+t._s(e)+"\n          ")])}),1)],1)])],1),t._v(" "),n("v-card",[n("v-card-text",[t._v("\n      "+t._s(t.paper)+"\n    ")])],1)],1)},staticRenderFns:[]},M=n("VU/8")(E,I,!1,null,null,null).exports,T={name:"SearchResults",components:{PaperList:C},data:function(){return{papers:[],nPages:0,page:0,papersPerPage:20}},computed:{paginationPage:{get:function(){return this.page+1},set:function(t){this.page=t-1}}},watch:{page:function(t){this.search(this.searchText,t)}},methods:{search:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=_+"/works?mailto="+R+"&filter="+P+","+B+"&rows="+S+"&offset="+e*S+"&query="+t;return k.a.get(n).then(function(t){return{papers:t.data.message.items.map(p.b.fromCrossref),totalPapers:t.data.message["total-results"]}})}(t,n).then(function(t){var r=t.papers,i=t.totalPapers;e.papers=r,e.nPages=Math.ceil(i/e.papersPerPage),e.page=n}).catch(function(){})}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[n("paper-list",{attrs:{papers:t.papers},on:{populate:function(e){return t.$emit("populate",e)},insert:function(e){return t.$emit("insert",e)},detail:function(e){return t.$emit("detail",e)}}}),t._v(" "),n("v-pagination",{attrs:{circle:"",length:t.nPages},model:{value:t.paginationPage,callback:function(e){t.paginationPage=e},expression:"paginationPage"}})],1)},staticRenderFns:[]},N=n("VU/8")(T,G,!1,null,null,null).exports,O=n("Gu7T"),$=n.n(O),D={name:"CommonRelatives",components:{PaperList:C},data:function(){return{papers:[],citings:[],citedBys:[]}},methods:{setPapers:function(t){var e=this;this.papers=t;var n=t.map(function(t){return t.references.map(function(t){return t.doi}).filter(function(t){return!f.a.isEmpty(t)})}),r=t.map(function(t){return t.citedBy.map(function(t){return t.doi}).filter(function(t){return!f.a.isEmpty(t)})}),i=function t(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(void 0===n)return e;var o=function(t,e){return t.filter(function(t){return e.includes(t)})}(e,n);return t.apply(void 0,[o].concat(i))},a=i.apply(void 0,$()(n)).map(function(t){return L(t).catch(function(){return null})});o.a.all(a).then(function(t){e.citings=t.filter(function(t){return null!==t})});var s=i.apply(void 0,$()(r)).map(function(t){return L(t).catch(function(){return null})});o.a.all(s).then(function(t){e.citedBys=t.filter(function(t){return null!==t})})}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[t._v("\n      Common References\n    ")]),t._v(" "),n("paper-list",{attrs:{papers:t.citings},on:{populate:function(e){return t.$emit("populate",e)},insert:function(e){return t.$emit("insert",e)},detail:function(e){return t.$emit("detail",e)}}})],1),t._v(" "),n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[t._v("\n      Common Cited By\n    ")]),t._v(" "),n("paper-list",{attrs:{papers:t.citedBys},on:{populate:function(e){return t.$emit("populate",e)},insert:function(e){return t.$emit("insert",e)},detail:function(e){return t.$emit("detail",e)}}})],1)],1)},staticRenderFns:[]},F=n("VU/8")(D,A,!1,null,null,null).exports,j=n("ro6L"),V=n("wxAW"),q=n.n(V),U=n("Zrlr"),H=n.n(U),W=function(){function t(e){H()(this,t),this.nodes=e}return q()(t,[{key:"decrementEdgeWeight",value:function(t){var e=this.getNodeById(t.citedById),n=f.a.find(e.citings,function(e){return e.paperId===t.citingId});--n.weight,0===n.weight&&f.a.pull(e.citings,n);var r=this.getNodeById(t.citingId),i=f.a.find(r.citedBys,function(e){return e.paperId===t.citedById});--i.weight,0===i.weight&&f.a.pull(r.citedBys,i)}},{key:"getNodeById",value:function(t){return f.a.find(this.nodes,function(e){return e.paperId===t})}},{key:"incrementEdgeWeight",value:function(t){var e=this.getNodeById(t.citedById),n=f.a.find(e.citings,function(e){return e.paperId===t.citingId});n?++n.weight:e.citings.push({paperId:t.citingId,weight:1});var r=this.getNodeById(t.citingId),i=f.a.find(r.citedBys,function(e){return e.paperId===t.citedById});i?++i.weight:r.citedBys.push({paperId:t.citedById,weight:1})}},{key:"relations",get:function(){return f.a.flatten(f.a.map(this.nodes,function(t,e){var n=t.citings;return f.a.map(n,function(e){return{citing:e.paperId,citedBy:t.paperId,weight:e.weight}})}))}}],[{key:"buildFromRelations",value:function(e,n){var r=function(t){return f.a.uniq(f.a.flatten(f.a.map(t,function(t){return[t.citedBy,t.citing]})))}(n),i=new t(f.a.map(r,function(t){return new function t(e,n,r){H()(this,t),this.paperId=e,this.citedBys=f.a.map(n,function(t){return{paperId:t.paperId,weight:t.weight}}),this.citings=f.a.map(r,function(t){return{paperId:t.paperId,weight:t.weight}})}(t,[],[])}));return f.a.forEach(n,function(t){var n=t.citedBy,a=t.citing,o=e.getAllPathsBetween(n,a);if(0===o.length)throw new Error("no path?");if(1===o.length&&1!==o[0].length)throw new Error("the graph doesn't have this direct relation?");var s=f.a.filter(o,function(t){return e=r,n=t.paperIds,i=f.a.map(n,function(t){return f.a.includes(e,t)}),f.a.reduce(i,function(t,e){return t=t&&e},!0);var e,n,i}),c=f.a.max(f.a.map(s,function(t){return t.length})),u=f.a.filter(s,function(t){return t.length===c});f.a.forEach(u,function(t){f.a.forEach(t.links,function(t){i.incrementEdgeWeight(t)})})}),i}}]),t}();var z=n("rIgQ"),X=function(){function t(e){H()(this,t),this.nSegmentsPerEdge=8,this.springConstant=1e4,this.electroConstant=1,this.forceConstant=.001,this.forceThreshold=100,this.compatibleThreshold=.1,this.interval=100,this.maxIteration=1/0,this.edges=[new J],this.isSimulating=!1,this.iItr=0,this.callback=e}return q()(t,[{key:"setCompatibleThreshold",value:function(t){this.compatibleThreshold=t,this.compatibleEdgeLists=tt(this.edges,this.compatibleThreshold),this.startSimulation()}},{key:"setElectroConstant",value:function(t){this.electroConstant=t,this.startSimulation()}},{key:"setForceConstant",value:function(t){this.forceConstant=t,this.startSimulation()}},{key:"setInterval",value:function(t){this.interval=t,this.startSimulation()}},{key:"setNSegmentsPerEdge",value:function(t){this.nSegmentsPerEdge=t,this.updateEdgePts()}},{key:"setSpringConstant",value:function(t){this.springConstant=t,this.startSimulation()}},{key:"simulate",value:function(){var t=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],i=t&&t[0]?t[0].length:0,a=[],o=0;o<t.length;++o){var s=t[o];a[o]=a[o]||[],a[o][0]={x:0,y:0},a[o][i-1]={x:0,y:0};for(var c=function(i){var c=Z(s[i],s[i-1],s[i+1],f.a.first(s),f.a.last(s),n),u=f.a.map(e[o],function(e){return t[e]}),l=f.a.map(u,function(t){return t[i]}),h=Q(s[i],l,r);a[o][i]=z.a.plus(c,h)},u=1;u<i-1;++u)c(u)}return a}(this.edgePts,this.compatibleEdgeLists,this.springConstant,this.electroConstant);((function(t){return f.a.max(f.a.map(f.a.flatten(t),function(t){return f.a.max([Math.abs(t.x),Math.abs(t.y)])}))})(t)||0)<this.forceThreshold||++this.iItr>this.maxIteration?this.isSimulating=!1:(this.edgePts=function(t,e,n){for(var r=t&&t[0]?t[0].length:0,i=[],a=0;a<t.length;++a){i[a]=i[a]||[],i[a][0]=t[a][0],i[a][r-1]=t[a][r-1];for(var o=1;o<r-1;++o)i[a][o]=z.a.plus(t[a][o],z.a.times(e[a][o],n))}return i}(this.edgePts,t,this.forceConstant),this.callback(this.edgePts),setTimeout(f.a.bind(this.simulate,this),this.interval))}},{key:"startSimulation",value:function(){this.isSimulating?this.iItr=0:(this.isSimulating=!0,this.simulate())}},{key:"updateEdgePts",value:function(){this.compatibleEdgeLists=tt(this.edges,this.compatibleThreshold);var t=f.a.bind(K,null,this.nSegmentsPerEdge);this.edgePts=f.a.map(this.edges,t),this.callback(this.edgePts),this.startSimulation()}},{key:"nPtsPerEdge",get:function(){return this.nSegmentsPerEdge+1}},{key:"edgeEndPts",set:function(t){this.edges=f.a.map(t,function(t){var e=t.beg,n=t.end;return new J(e,n)}),this.updateEdgePts()}}]),t}(),Y=function(){function t(){H()(this,t)}return q()(t,null,[{key:"angle",value:function(t,e){var n=z.a.minus(t.end,t.beg),r=z.a.minus(e.end,e.beg);return Math.abs(z.a.dot(n,r)/(n.length*r.length))}},{key:"position",value:function(t,e){var n=(t.length+e.length)/2;return n/(n+z.a.distance(t.midPt,e.midPt))}},{key:"scale",value:function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)}},{key:"visibility",value:function(t,e){var n=function(t,e){var n=e.beg,r=e.end,i=((n.y-t.y)*(n.y-r.y)-(n.x-t.x)*(r.x-n.x))/e.length2;return z.a.plus(n,z.a.times(z.a.minus(r,n),i))},r=function(t,e){var r=n(e.beg,t),i=n(e.end,t),a=z.a.mid(r,i),o=t.midPt;return Math.max(0,1-2*z.a.distance(o,a)/z.a.distance(r,i))};return Math.min(r(t,e),r(e,t))}},{key:"endPt",value:function(t,e){var n=z.a.equal(t.beg,e.beg,.001),r=z.a.equal(t.end,e.end,.001);return n||r?1:0}},{key:"score",value:function(t,e){return this.angle(t,e)*this.scale(t,e)*this.position(t,e)*this.visibility(t,e)*this.endPt(t,e)}}]),t}(),J=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new z.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new z.a;H()(this,t),this.beg=e,this.end=n}return q()(t,[{key:"length",get:function(){return z.a.distance(this.beg,this.end)}},{key:"length2",get:function(){return z.a.distance2(this.beg,this.end)}},{key:"midPt",get:function(){return z.a.times(z.a.plus(this.beg,this.end),.5)}}]),t}();function K(t,e){var n=e.beg,r=e.end,i=t+1,a=[];a[0]=new z.a(n.x,n.y),a[i-1]=new z.a(r.x,r.y);for(var o=1;o<i-1;++o){var s=o/(i-1);a[o]=z.a.interpolate(n,r,s)}return a}function Q(t,e,n){var r=new z.a(0,0);return f.a.forEach(e,function(e){var n=z.a.minus(e,t);r=z.a.plus(r,n)}),z.a.times(r,n)}function Z(t,e,n,r,i,a){var o=a/z.a.distance(r,i),s=z.a.minus(e,t),c=z.a.minus(n,t),u=z.a.plus(s,c);return z.a.times(u,o)}function tt(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f.a.map(t,function(){return[]}),r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i){Y.score(t[r],t[i])>=e&&(n[r].push(i),n[i].push(r))}return n}var et=n("fZjL"),nt=n.n(et);function rt(t){for(var e=ot(t),n=st(t),r=nt()(e),i=ht(e)+1,a=r.map(function(t){var r=e[t];return{min:n[t],max:i-1-r}}),o=t.nodes.map(function(t){return t.paper.year}),s=function(t,e){for(var n=t.slice().sort(),r=[],i=0;i<e;++i){var a=Math.round(i/e*(t.length-1)),o=Math.round((i+1)/e*(t.length-1));r[i]={min:n[a],max:n[o]}}return r}(o,i),c=r.slice(),u=a.slice(),l=s.map(function(){return[]});c.length>0;){c.sort(function(t,e){return u[t].max-u[t].min-(u[e].max-u[e].min)});for(var h=0;h<c.length;++h){var d=c[h],f=u[d];if(f.min!==f.max){for(var p=[],v=f.min;v<=f.max;++v){var g=o[d],m=s[v];p[v]=Math.max(0,m.min-g,g-m.max)}var y=ut(p);if(1===y.length){var w=y[0];l[w].push(d),u=lt(d,w,t,u);break}y.sort(function(t,e){return l[t].length-l[e].length});var x=y[0];l[x].push(d),u=lt(d,x,t,u);break}l[f.min].push(d)}c=c.slice(h+1)}return at(l)}function it(t){var e=function(t){return f.a.pickBy(f.a.mapValues(t))}(t),n=f.a.max(f.a.map(e,f.a.property("col")))+1,r=f.a.times(n,function(){return[]});return f.a.forEach(e,function(t,e){var n=t.col,i=t.row;r[n][i]=f.a.toNumber(e)}),r}function at(t){for(var e={},n=0;n<t.length;++n)for(var r=t[n],i=0;i<r.length;++i){e[r[i]]={col:n,row:i}}return e}function ot(t){return ct(t,"inGraphCitedBys","inGraphCitings")}function st(t){return ct(t,"inGraphCitings","inGraphCitedBys")}function ct(t,e,n){var r=f.a.times(t.nodes.length,f.a.constant(0)),i=t.nodes.reduce(function(t,n,r){return 0===n[e].length&&t.push(r),t},[]);i.forEach(function(t){r[t]=0});for(var a=[].concat(i),o=function(){var e=a.shift(),i=t.nodes[e][n];f.a.map(i,function(e){return f.a.findIndex(t.nodes,function(t){return t.paper.id===e})}).forEach(function(t){r[t]=r[t]?Math.max(r[e]+1,r[t]):r[e]+1,a.push(t)})};a.length>0;)o();return r}function ut(t){var e=l.a,n=[];return t.forEach(function(t,r){void 0!==t&&(t<e?(n=[r],e=t):t===e&&n.push(r))}),n}function lt(t,e,n,r){var i=r.slice();return i[t]={min:e,max:e},n.nodes[t].inGraphCitings.forEach(function(t){var a=f.a.findIndex(n.nodes,function(e){return e.paper.id===t}),o=r[a];i[a]={min:o.min,max:Math.min(e-1,o.max)}}),n.nodes[t].inGraphCitedBys.forEach(function(t){var a=f.a.findIndex(n.nodes,function(e){return e.paper.id===t}),o=r[a];i[a]={min:Math.max(e+1,o.min),max:o.max}}),i}function ht(t){return Math.max.apply(Math,$()(function(t){return nt()(t).map(function(e){return t[e]})}(t)))}var dt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return"M "+t.x+" "+t.y+" C "+vt(t.x,e.x,n)+" "+t.y+" "+vt(e.x,t.x,n)+" "+e.y+" "+e.x+" "+e.y},ft=function(t,e,n){var r=(e.x-t.x)/Math.abs(e.x-t.x);return"M "+t.x+" "+t.y+" L "+(t.x+n*r)+" "+t.y+" C "+(t.x+4*n*r)+" "+t.y+" "+(e.x-4*n*r)+" "+e.y+" "+(e.x-n*r)+" "+e.y+" L "+e.x+" "+e.y},pt=function(t,e,n,r){var i=(e.x-t.x)/Math.abs(e.x-t.x)||1,a=Math.min(t.y,e.y),o=t.x+n*i,s=t.y,c={x:t.x+3*n*i,y:a-r},u=t.x+2*n*i,l=t.y,h=c.x-1*n*i,d=c.y,f={x:e.x-3*n*i,y:a-r},p=f.x+1*n*i,v=f.y,g=e.x-2*n*i,m=e.y,y=e.x-n*i,w=e.y;return"M "+t.x+" "+t.y+" L "+o+" "+s+" C "+u+" "+l+" "+h+" "+d+" "+c.x+" "+c.y+" L "+f.x+" "+f.y+" C "+p+" "+v+" "+g+" "+m+" "+y+" "+w+" L "+e.x+" "+e.y};function vt(t,e,n){return n*(e-t)+t}var gt={name:"Kanban",components:{PaperCard:y,PaperList:C,PaperDetail:M,SearchResults:N,CommonRelatives:F},data:function(){var t=this;return this.$http.get("/api/static/insitupdf.json").then(function(t){this.data=t.body,this.paper=this.data.paper,this.title=this.paper.title,this.graph=j.a.fromTestJson({papers:this.data.references,relations:this.data.relations}),this.cards=this.layoutByMethod(this.graph,this.layoutMethod),this.nextTickLayoutPaperCards()}),this.colWidth=180,this.cardSpacing=48,this.cardVerticalSpacing=10,this.marginLeft=24,this.fdeb=new X(function(e){t.edgePts=e}),this.edgeThickness=2,this.edgeSpacing=0,this.laneSpacing=5,this.sublaneSpacing=0,this.horizontalEdgeElevation=.2,this.orthoEdgeArcRadius=1.5*this.cardVerticalSpacing,{graph:{nodes:[]},title:"Papers",paper:{},cards:[],visibleRelations:[],visiblePaperRefLinks:[],visiblePaperCiteLinks:[],layoutMethod:"layout-by-cite-level",showLinkMethod:"show-link-hover",paperStyle:"paper-style-chip",isDrawerVisible:!1,searchText:"",isSearching:!1,drawerComponent:"search-results",edgePts:[],edgeLayout:"river",riverWidthMode:"river-width-constant"}},watch:{visiblePaperRefLinks:function(t,e){this.showLinks(this.getVisibleLinks(t,this.visiblePaperCiteLinks))},visiblePaperCiteLinks:function(t,e){this.showLinks(this.getVisibleLinks(this.visiblePaperRefLinks,t))}},computed:{curves:function(){var t=this;return this.visibleRelations.map(function(e){return t.makeCurve(e)})},fdebPaths:function(){return f.a.map(this.edgePts,function(t){var e="M "+t[0].x+" "+t[0].y,n=f.a.map(f.a.slice(t,1),function(t){return"L "+t.x+" "+t.y}),r=f.a.concat([e],n);return{path:f.a.join(r," ")}})},riverPaths:function(){var t=this,e=W.buildFromRelations(this.graph,this.visibleRelations);return this.makeCurves(e,function(t){return t.paperId},function(t){return t.citedBys},function(t){return t.citings},function(t){return t.paperId},function(t){return t.weight},function(e,n){return"river-width-constant"===t.riverWidthMode?f.a.map(e,function(){return n}):"river-width-by-weight"===t.riverWidthMode?f.a.map(e,function(t){return t.weight*n}):void 0},function(t){return f.a.map(t,function(t){var e=t.weight,n=1-Math.exp(Math.log(1)-.35*e);return Object(v.a)(n)})})},highwayPaths:function(){return this.makeCurves(this.graph,function(t){return t.paper.id},function(t){return t.inGraphCitedBys},function(t){return t.inGraphCitings},function(t){return t},function(t){return 1},function(t,e){return f.a.map(t,function(){return e})},function(t){return f.a.map(t,function(){return Object(v.a)(.5)})})},edges:function(){return"force-directed-edge-bundling"===this.edgeLayout?this.fdebPaths:"curves"===this.edgeLayout?this.curves:"river"===this.edgeLayout?this.riverPaths:"highway"===this.edgeLayout?this.highwayPaths:[]},yearIntervalLabels:function(){var t=this;return it(this.cards.map(function(t){return t.colRow})).map(function(e){return e.map(function(e){return t.graph.nodes[e].paper}).map(function(t){return t.year}).reduce(function(t,e){return{min:Math.min(e,t.min),max:Math.max(e,t.max)}},{min:l.a,max:c.a})}).map(function(t){return t.min===t.max?""+t.min:t.min+" to "+t.max})},yearIntervalStyle:function(){return{display:"inline-block",width:this.colWidth+"px","margin-left":this.cardSpacing/2+"px","margin-right":this.cardSpacing/2+"px"}},topCardRect:function(){for(var t=0;t<this.cards.length;++t){var e=this.cards[t];if(0===e.colRow.row)return e.rect}},cardColRows:function(){return f.a.map(this.cards,function(t){return t.colRow})},cardColRowsByPaperId:function(){var t={};return f.a.forEach(this.cards,function(e){t[e.paper.id]=e.colRow}),t},maxCardCol:function(){return f.a.max(f.a.map(this.cardColRows,function(t){return t.col}))},maxCardRow:function(){return f.a.max(f.a.map(this.cardColRows,function(t){return t.row}))},computedLayoutMethod:{get:function(){return this.layoutMethod},set:function(t){this.layoutMethod=t,this.cards=this.layoutByMethod(this.graph,t)}},computedShowLinkMethod:{get:function(){return this.showLinkMethod},set:function(t){if(this.showLinkMethod=t,"show-link-all"===t)this.showLinks(this.graph.relations);else if("show-link-between"===t){var e=this.getRelationsBetweenColumns(this.cards,this.graph);this.showLinks(e)}else this.visiblePaperRefLinks=[],this.visiblePaperCiteLinks=[],this.showLinks([])}},computedPaperStyle:{get:function(){return this.paperStyle},set:function(t){this.paperStyle=t,"paper-style-chip"===t?(this.colWidth=180,this.cardSpacing=48,this.cardVerticalSpacing=10):"paper-style-card"===t&&(this.colWidth=250,this.cardSpacing=24,this.cardVerticalSpacing=24),this.nextTickLayoutPaperCards()}},computedSpringConstant:{get:function(){return this.fdeb.springConstant},set:function(t){this.fdeb.setSpringConstant(t)}},computedElectroConstant:{get:function(){return this.fdeb.electroConstant},set:function(t){this.fdeb.setElectroConstant(t)}},computedNEdgeSegments:{get:function(){return this.fdeb.nSegmentsPerEdge},set:function(t){this.fdeb.setNSegmentsPerEdge(t)}},computedForceConstant:{get:function(){return(this.fdeb.forceConstant-.001)/(.01-.001)*999+1},set:function(t){this.fdeb.setForceConstant((t-1)/999*(.01-.001)+.001)}},computedEdgeInterval:{get:function(){return this.fdeb.interval},set:function(t){this.fdeb.setInterval(t)}},computedCompatibilityThreshold:{get:function(){return 1e3*this.fdeb.compatibleThreshold},set:function(t){this.fdeb.setCompatibleThreshold(t/1e3)}}},methods:{search:function(t){var e=this;this.drawerComponent="search-results",this.isSearching=!0,this.$refs.searchResults.setSearchText(t).then(function(){e.isSearching=!1}).catch(function(){e.isSearching=!1})},searchKeyUp:function(t,e){"Enter"===t.key&&this.search(e)},searchResultPopulate:function(t){var e=this;this.paper=t;var n=f.a.filter(f.a.map(this.paper.references,function(t){return t.doi}),function(t){return!f.a.isEmpty(t)}).map(function(t){return L(t)});o.a.all(n).then(function(t){var n=t.filter(function(t){return null!==t});e.graph=j.a.fromPapers(n),e.cards=e.layoutByMethod(e.graph,e.layoutMethod),e.nextTickLayoutPaperCards()})},searchResultInsert:function(t){var e=this;if(!this.graph.includes(t)){var n=this.graph.insert(t),r=f.a.indexOf(this.graph.nodes,n);this.cards=this.layoutByMethod(this.graph,this.layoutMethod),this.nextTickLayoutPaperCards().then(function(){f.a.find(e.$refs.paperCards,function(t){return t.card.index===r}).$el.scrollIntoView({behavior:"smooth"})})}},showPaperDetail:function(t){this.drawerComponent="paper-detail",this.$refs.paperDetail.setPaper(t)},findCommonRelatives:function(){var t=f.a.map(this.graph.selectedNodes,function(t){return t.paper});this.isDrawerVisible=!0,this.drawerComponent="common-relatives",this.$refs.commonRelatives.setPapers(t)},deselectAllNodes:function(){this.graph.deselectAllNodes(),this.nextTickLayoutPaperCards()},clearGraph:function(){this.graph.clear(),this.cards=[]},handleMouseOverRefCount:function(t){"show-link-hover"===this.showLinkMethod&&(this.visiblePaperRefLinks=f.a.union(this.visiblePaperRefLinks,[t]))},handleMouseOutRefCount:function(t){"show-link-hover"===this.showLinkMethod&&(this.visiblePaperRefLinks=f.a.without(this.visiblePaperRefLinks,t))},handleClickRefCount:function(t){"show-link-click"===this.showLinkMethod&&(f.a.includes(this.visiblePaperRefLinks,t)?this.visiblePaperRefLinks=f.a.without(this.visiblePaperRefLinks,t):this.visiblePaperRefLinks=f.a.union(this.visiblePaperRefLinks,[t]))},handleMouseOverCiteCount:function(t){"show-link-hover"===this.showLinkMethod&&(this.visiblePaperCiteLinks=f.a.union(this.visiblePaperCiteLinks,[t]))},handleMouseOutCiteCount:function(t){"show-link-hover"===this.showLinkMethod&&(this.visiblePaperCiteLinks=f.a.without(this.visiblePaperCiteLinks,t))},handleClickCiteCount:function(t){"show-link-click"===this.showLinkMethod&&(f.a.includes(this.visiblePaperCiteLinks,t)?this.visiblePaperCiteLinks=f.a.without(this.visiblePaperCiteLinks,t):this.visiblePaperCiteLinks=f.a.union(this.visiblePaperCiteLinks,[t]))},handleClickTitle:function(t){this.isDrawerVisible=!0,this.showPaperDetail(this.graph.nodes[t].paper)},handleClickHandle:function(t){this.graph.toggleSelectedByIndex(t);var e=this.cards.map(function(t){return t.colRow});this.cards=this.getCardsByColRows(this.graph,e),this.updateEdges()},handleRemoveCard:function(t){this.graph.remove(t),this.cards=this.layoutByMethod(this.graph,this.layoutMethod),this.updateEdges()},alsoScrollYearsContainer:function(t){this.$refs.yearsContainer.scrollLeft=this.$refs.graphContainer.scrollLeft},getRelationsBetweenColumns:function(t,e){return f.a.filter(e.relations,function(n){var r=n.citing,i=n.citedBy,a=f.a.findIndex(e.nodes,function(t){return t.paper.id===r}),o=f.a.findIndex(e.nodes,function(t){return t.paper.id===i});return t[a].colRow.col===t[o].colRow.col-1})},showLinks:function(t){this.visibleRelations=t,this.updateEdges()},getVisibleLinks:function(t,e){return this.graph.getUnionRelations(e,t)},movePaperCard:function(t,e){var n,r,i,a,o,s=this.cards.map(function(t){return t.colRow}),c=this.getColRowByRect(this.cards,t.rect),u=(n=s,r=t.index,i=c,a=it(n),o=n[r],a[o.col][o.row]=void 0,a[i.col].splice(i.row,0,r),at(a.map(function(t){return t.filter(function(t){return void 0!==t})}).filter(function(t){return 0!==t.length})));this.cards=this.getCardsByColRows(this.graph,u),this.updateEdges()},layoutByMethod:function(t,e){if("layout-by-year"===this.layoutMethod)return this.layoutByYears(t);if("layout-by-reference-level"===this.layoutMethod)return this.layoutByRefLevel(t);if("layout-by-cite-level"===this.layoutMethod)return this.layoutByCiteLevel(t);if("layout-by-optimized"===this.layoutMethod)return this.layoutByOptimized(t);throw new Error("wrong layout method "+e)},layoutByYears:function(t){var e=function(t){var e=t.nodes.map(function(t){return t.paper.year}).filter(function(t,e,n){return n.indexOf(t)===e}).sort(function(t,e){return t-e}).map(function(t){return t.toString()}),n={};return e.forEach(function(t){n[t]=[]}),t.nodes.forEach(function(t){var e=t.paper;n[e.year.toString()].push(e)}),e.forEach(function(t){n[t].sort(function(t,e){return e.citationCount-t.citationCount})}),t.nodes.map(function(t){var r=t.paper;return{col:e.indexOf(r.year.toString()),row:n[r.year.toString()].indexOf(r)}})}(t);return this.getCardsByColRows(t,e)},layoutByRefLevel:function(t){var e=function(t){var e=ot(t),n={},r=[],i=ht(e);return nt()(e).forEach(function(t){var a=i-e[t],o=r[a]?r[a]:0;n[t]={col:a,row:o},r[a]=o+1}),n}(t);return this.getCardsByColRows(t,e)},layoutByCiteLevel:function(t){var e=function(t){var e=st(t),n=[];return nt()(e).forEach(function(t){n[e[t]]=n[e[t]]||[],n[e[t]].push(t)}),at(f.a.map(n,function(e){return f.a.sortBy(e,function(e){return-t.nodes[e].inGraphCitedBys.length})}))}(t);return this.getCardsByColRows(t,e)},layoutByOptimized:function(t){var e=rt(t);return this.getCardsByColRows(t,e)},getCardsByColRows:function(t,e){var n=this,r=[];return it(e).forEach(function(e,a){var o=0;e.forEach(function(e,s){var c=t.nodes[e],u=c.geometry.height;r[e]=i()({},c,{index:e,colRow:{col:a,row:s},rect:h({left:a*(n.colWidth+n.cardSpacing),top:o,width:n.colWidth,height:u})}),o+=u+n.cardVerticalSpacing})}),r},getColRowByRect:function(t,e){var n=this,r=Math.floor((e.center.x+.5*this.cardSpacing)/(this.colWidth+this.cardSpacing)),i=it(t.map(function(t){return t.colRow}))[r].map(function(t){return n.graph.nodes[t].geometry.height}),a=i.reduce(function(t,e){if(0===t.length)t.push(e/2);else{var r=t[t.length-1];t.push(r+n.cardVerticalSpacing+e)}return t},[]);if(e.center.y<=i[0])return{col:r,row:0};for(var o=0;o<a.length-1;++o){var s=a[o],c=a[o+1];if(s<=e.center.y&&e.center.y<c)break}return{col:r,row:o+1}},updateCard:function(t){this.$set(this.cards,t.index,t)},nextTickLayoutPaperCards:function(){var t=this;return this.$nextTick().then(function(){t.updateGeos();var e=t.cards.map(f.a.property("colRow"));t.cards=t.getCardsByColRows(t.graph,e),t.updateEdges()})},updateGeos:function(){var t=this;this.$refs.paperCards.forEach(function(e){t.graph.nodes[e.card.index].geometry={height:e.$el.clientHeight,headerHeight:e.$refs.header.clientHeight||e.$refs.header.computedHeight}})},makeCurve:function(t){var e=f.a.find(this.cards,function(e){return e.paper.id===t.citedBy}),n=f.a.find(this.cards,function(e){return e.paper.id===t.citing}),r={x:e.rect.left+this.marginLeft,y:e.rect.top+this.graph.getNodeById(t.citedBy).geometry.headerHeight/2},i={x:n.rect.right+this.marginLeft,y:n.rect.top+this.graph.getNodeById(t.citing).geometry.headerHeight/2};return{path:dt(r,i,.5)}},updateEdges:function(){var t=this,e=this.marginLeft,n=this.visibleRelations.map(function(n,r){var i=f.a.find(t.cards,function(t){return t.paper.id===n.citedBy}),a=f.a.find(t.cards,function(t){return t.paper.id===n.citing});return{beg:{x:i.rect.left+e,y:i.rect.top+t.graph.getNodeById(n.citedBy).geometry.headerHeight/2},end:{x:a.rect.right+e,y:a.rect.top+t.graph.getNodeById(n.citing).geometry.headerHeight/2}}});this.fdeb.edgeEndPts=n},getClusteredHighways:function(t){for(var e=this.cardColRowsByPaperId,n=this.maxCardCol,r=this.maxCardRow,i=[],a=function(n){var a=f.a.map(t,function(t,n){return{index:n,citedBy:{paperId:t.citedBy,colRow:e[t.citedBy]},citing:{paperId:t.citing,colRow:e[t.citing]}}}),o=f.a.filter(a,function(t){var e=t.citedBy.colRow;return t.citing.colRow.col===n&&e.col===n+1}),s=f.a.sortBy(o,function(t){return-(t.citing.colRow.row*(r+1)+t.citedBy.colRow.row)});f.a.forEach(s,function(e){for(var r=Math.min(e.citedBy.colRow.row,e.citing.colRow.row),a=Math.max(e.citedBy.colRow.row,e.citing.colRow.row),o=r;o<a;++o){i[n]=i[n]||[],i[n][o]=i[n][o]||[];var s=f.a.last(i[n][o]),c=f.a.uniq(f.a.map(s,function(e){return t[e].citing})),u=1===c.length?c[0]:null,l=f.a.uniq(f.a.map(s,function(e){return t[e].citedBy})),h=1===l.length?l[0]:null,d=t[e.index].citing,p=t[e.index].citedBy;u===d||h===p?f.a.last(i[n][o]).push(e.index):i[n][o].push([e.index])}})},o=0;o<n-1;++o)a(o);return i},getVerticalGapHighways:function(t){for(var e=this.cardColRowsByPaperId,n=this.maxCardCol,r=this.maxCardRow,i=[],a=function(n){var a=f.a.map(t,function(t,n){return{index:n,citedBy:{paperId:t.citedBy,colRow:e[t.citedBy]},citing:{paperId:t.citing,colRow:e[t.citing]}}}),o=f.a.filter(a,function(t){var e=t.citedBy.colRow;return t.citing.colRow.col===n&&e.col===n+1}),s=f.a.sortBy(o,function(t){return-(t.citing.colRow.row*(r+1)+t.citedBy.colRow.row)});f.a.forEach(s,function(t){for(var e=Math.min(t.citedBy.colRow.row,t.citing.colRow.row),r=Math.max(t.citedBy.colRow.row,t.citing.colRow.row),a=e;a<r;++a)i[n]=i[n]||[],i[n][a]=i[n][a]||[],i[n][a].push(t.index)})},o=0;o<n-1;++o)a(o);return i},getNodeInfos:function(t,e,n,r,a,o,s,c){var u=this,l=this.edgeThickness,h=this.edgeSpacing,d={};return f.a.forEach(t.nodes,function(t){var p=f.a.find(u.cards,function(n){return n.paper.id===e(t)}),v=f.a.map(f.a.sortBy(n(t),function(t){var e=a(t),n=f.a.find(u.cards,function(t){return t.paper.id===e}),r=n.rect.left-p.rect.right;return(n.rect.top-p.rect.top)/r}),function(t){return{paperId:a(t),weight:o(t)}}),g=f.a.map(f.a.sortBy(r(t),function(t){var e=f.a.find(u.cards,function(e){return e.paper.id===a(t)}),n=e.rect.right-p.rect.left;return-(e.rect.top-p.rect.top)/n}),function(t){return{paperId:a(t),weight:o(t)}}),m=n(t).length,y=r(t).length,w=c(v),x=c(g),C=s(v,l),b=s(g,l),k=mt(C,h),_=mt(b,h),R=f.a.last(k)+m*h,P=f.a.last(_)+y*h,B=f.a.map(v,function(t,e){return-R/2+k[e]+e*h+.5*C[e]}),S=f.a.map(g,function(t,e){return-P/2+_[e]+e*h+.5*b[e]}),L=f.a.map(B,function(n){return{x:p.rect.right+u.marginLeft,y:p.rect.top+u.graph.getNodeById(e(t)).geometry.headerHeight/2+n}}),E=f.a.map(S,function(n){return{x:p.rect.left+u.marginLeft,y:p.rect.top+u.graph.getNodeById(e(t)).geometry.headerHeight/2+n}}),I=f.a.map(v,function(t){return u.cardColRowsByPaperId[t.paperId]}),M=f.a.map(g,function(t){return u.cardColRowsByPaperId[t.paperId]}),T=function(t,e,n,r,a){return f.a.zipWith(t,e,n,r,a,function(t,e,n,r,a){return i()({},t,{endPt:e,width:n,color:r,colRow:a})})},G=function(t){return f.a.reduce(t,function(t,e){return t[e.paperId]=e,t},{})},N=G(T(v,L,C,w,I)),O=G(T(g,E,b,x,M));d[e(t)]={citedBys:N,citings:O,colRow:u.cardColRowsByPaperId[e(t)],paperId:e(t)}}),d},getRelationInfos:function(t,e,n){return f.a.map(t,function(t,r){var a=t.citedBy,o=t.citing,s=e[a],c=e[o],u={gapIndex:c.colRow.col};return f.a.forEach(n[u.gapIndex],function(t,e){var n=f.a.findIndex(t,function(t){return f.a.includes(t,r)});if(n>=0){var i=f.a.indexOf(t[n],r);u[e]={laneIndex:n,subLaneIndex:i,totalLanes:f.a.map(t,function(t){return t.length})}}}),{citedBy:s,citing:c,lanes:i()({},u),weight:t.weight}})},makeCurves:function(t,e,n,r,i,a,o,s){var c=this,u=this.getNodeInfos(t,e,n,r,i,a,o,s),l=this.getClusteredHighways(t.relations),h=this.getRelationInfos(t.relations,u,l);return f.a.map(h,function(t){var e=t.citedBy.paperId,n=t.citing.paperId,r=t.citedBy.citings[n],i=t.citing.citedBys[e],a=t.citedBy.colRow,o=t.citing.colRow,s=t.lanes,u=function(t){return a.row===o.row};return{path:1===Math.abs(r.colRow.col-i.colRow.col)?u()?ft(r.endPt,i.endPt,.15*c.cardSpacing):c.makeOrthoPath(r,i,s):u()?pt(r.endPt,i.endPt,.3*c.cardSpacing,c.horizontalEdgeElevation*c.topCardRect.height):ft(r.endPt,i.endPt,.3*c.cardSpacing),width:r.width,color:r.color}})},makeOrthoPath:function(t,e,n){var r=this.edgeThickness,i=this.laneSpacing,a=this.sublaneSpacing,o=t.endPt,s=e.endPt,c=z.a.mid(o,s),u=(s.y-o.y)/Math.abs(s.y-o.y)||1,l=this.topCardRect.center.y,h=this.topCardRect.height+this.cardVerticalSpacing,d=this.cardVerticalSpacing,p=this.orthoEdgeArcRadius,v=t.colRow.row,g=e.colRow.row,m=Math.min(v,g),y=Math.max(v,g),w=f.a.minBy([o,s],function(t){return t.y}),x=f.a.maxBy([o,s],function(t){return t.y}),C=function(t,e,n,r,o){var s=f.a.sum(n),c=n.length-1;return r-.5*(s*o+c*i)+mt(f.a.map(n,function(t){return t*o+(t-1)*a}))[t]+t*i+e*o+e*a+.5*o},b=C(n[m].laneIndex,n[m].subLaneIndex,n[m].totalLanes,c.x,r),k=l+(m+1)*h-d,_=l+m*h+p-w.y,R=_*u,P=C(n[y-1].laneIndex,n[y-1].subLaneIndex,n[y-1].totalLanes,c.x,r),B=x.y-(l+y*h-p),S=B*u,L="M "+w.x+" "+w.y;L+=" L "+(b+R)+" "+w.y+" Q "+b+" "+w.y+" "+b+" "+(w.y+_)+" L "+b+" "+k;for(var E=m+1;E<y;++E){var I=C(n[E-1].laneIndex,n[E-1].subLaneIndex,n[E-1].totalLanes,c.x,r),M=l+E*h-d,T=C(n[E].laneIndex,n[E].subLaneIndex,n[E].totalLanes,c.x,r),G=l+E*h+d,N=l+(E+1)*h-d;L+=" C "+I+" "+(M+d)+" "+T+" "+(G-d)+" "+T+" "+G,L+=E===y-1?" L "+P+" "+(x.y-B):" L "+T+" "+N}return L+=" Q "+P+" "+x.y+" "+(P-S)+" "+x.y,L+=" L "+x.x+" "+x.y}}};function mt(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.a.reduce(t,function(t,e){return t=f.a.concat(t,e+f.a.last(t))},[0])}var yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-navigation-drawer",{staticStyle:{overflow:"scroll",padding:"0px"},attrs:{stateless:"","hide-overlay":"",app:"",width:"600"},model:{value:t.isDrawerVisible,callback:function(e){t.isDrawerVisible=e},expression:"isDrawerVisible"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-text-field",{attrs:{"hide-details":"","single-line":"",clearable:"",solo:"",placeholder:"search paper name",loading:t.isSearching},nativeOn:{keyup:function(e){return t.searchKeyUp(e,t.searchText)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),n("v-btn",{attrs:{icon:"",loading:t.isSearching},on:{click:function(e){return t.search(t.searchText)}}},[n("v-icon",[t._v("search")])],1)],1),t._v(" "),n("paper-detail",{directives:[{name:"show",rawName:"v-show",value:"paper-detail"===t.drawerComponent,expression:"drawerComponent === 'paper-detail'"}],ref:"paperDetail",on:{populate:function(e){return t.searchResultPopulate(e)},insert:function(e){return t.searchResultInsert(e)},detail:function(e){return t.showPaperDetail(e)},back:function(e){t.drawerComponent="search-results"}}}),t._v(" "),n("search-results",{directives:[{name:"show",rawName:"v-show",value:"search-results"===t.drawerComponent,expression:"drawerComponent === 'search-results'"}],ref:"searchResults",on:{populate:function(e){return t.searchResultPopulate(e)},insert:function(e){return t.searchResultInsert(e)},detail:function(e){return t.showPaperDetail(e)}}}),t._v(" "),n("common-relatives",{directives:[{name:"show",rawName:"v-show",value:"common-relatives"===t.drawerComponent,expression:"drawerComponent === 'common-relatives'"}],ref:"commonRelatives",on:{populate:function(e){return t.searchResultPopulate(e)},insert:function(e){return t.searchResultInsert(e)},detail:function(e){return t.showPaperDetail(e)}}})],1),t._v(" "),n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-side-icon",{on:{click:function(e){t.isDrawerVisible=!t.isDrawerVisible}}}),t._v(" "),n("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),n("v-spacer"),t._v(" "),t.graph.isAnyNodeSelected?n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",color:"orange"},on:{click:t.findCommonRelatives},slot:"activator"},[n("v-icon",{attrs:{color:"white"}},[t._v("device_hub")])],1),t._v(" "),n("span",[t._v("Find common ancestors/descendants")])],1):t._e(),t._v(" "),n("v-menu",{attrs:{"open-on-hover":"","offset-y":"","close-delay":"0"}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",[t._v("settings")])],1),t._v(" "),n("v-list",[n("v-list-tile",[n("v-list-tile-title",[t._v("\n            spring "+t._s(t.fdeb.springConstant)+"\n          ")]),t._v(" "),n("v-list-tile-action",[n("v-slider",{attrs:{min:"1",max:"50000"},model:{value:t.computedSpringConstant,callback:function(e){t.computedSpringConstant=e},expression:"computedSpringConstant"}})],1)],1),t._v(" "),n("v-list-tile",[n("v-list-tile-title",[t._v("\n            electrostatic "+t._s(t.fdeb.electroConstant)+"\n          ")]),t._v(" "),n("v-slider",{attrs:{min:"1",max:"1000"},model:{value:t.computedElectroConstant,callback:function(e){t.computedElectroConstant=e},expression:"computedElectroConstant"}})],1),t._v(" "),n("v-list-tile",[n("v-list-tile-title",[t._v("\n            segments "+t._s(t.fdeb.nSegmentsPerEdge)+"\n          ")]),t._v(" "),n("v-slider",{attrs:{min:"2",max:"32"},model:{value:t.computedNEdgeSegments,callback:function(e){t.computedNEdgeSegments=e},expression:"computedNEdgeSegments"}})],1),t._v(" "),n("v-list-tile",[n("v-list-tile-title",[t._v("\n            force ratio "+t._s(t.fdeb.forceConstant.toFixed(4))+"\n          ")]),t._v(" "),n("v-slider",{attrs:{min:"1",max:"1000"},model:{value:t.computedForceConstant,callback:function(e){t.computedForceConstant=e},expression:"computedForceConstant"}})],1),t._v(" "),n("v-list-tile",[n("v-list-tile-title",[t._v("interval "+t._s(t.fdeb.interval))]),t._v(" "),n("v-slider",{attrs:{min:"10",max:"1000"},model:{value:t.computedEdgeInterval,callback:function(e){t.computedEdgeInterval=e},expression:"computedEdgeInterval"}})],1),t._v(" "),n("v-list-tile",[n("v-list-tile-title",[t._v("\n            compatibility threshold "+t._s(t.fdeb.compatibleThreshold.toFixed(2))+"\n          ")]),t._v(" "),n("v-slider",{attrs:{min:"0",max:"1000"},model:{value:t.computedCompatibilityThreshold,callback:function(e){t.computedCompatibilityThreshold=e},expression:"computedCompatibilityThreshold"}})],1)],1)],1),t._v(" "),n("v-menu",{attrs:{"open-on-hover":"","offset-y":"","close-delay":"0"}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",[t._v("gesture")])],1),t._v(" "),n("v-list",[n("v-list-tile",{on:{click:function(e){t.computedShowLinkMethod="show-link-hover"}}},[n("v-list-tile-title",[t._v("show links on hover")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedShowLinkMethod="show-link-click"}}},[n("v-list-tile-title",[t._v("toggle links on click")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedShowLinkMethod="show-link-all"}}},[n("v-list-tile-title",[t._v("show all links")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedShowLinkMethod="show-link-between"}}},[n("v-list-tile-title",[t._v("show link between columns")])],1)],1)],1),t._v(" "),n("v-menu",{attrs:{"open-on-hover":"","offset-y":"","close-delay":"0"}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",[t._v("dashboard")])],1),t._v(" "),n("v-list",[n("v-list-tile",{on:{click:function(e){t.computedLayoutMethod="layout-by-year"}}},[n("v-list-tile-title",[t._v("layout by year")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedLayoutMethod="layout-by-reference-level"}}},[n("v-list-tile-title",[t._v("layout by reference level")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedLayoutMethod="layout-by-cite-level"}}},[n("v-list-tile-title",[t._v("layout by citation level")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedLayoutMethod="layout-by-optimized"}}},[n("v-list-tile-title",[t._v("layout hybrid")])],1)],1)],1),t._v(" "),n("v-menu",{attrs:{"open-on-hover":"","offset-y":"","close-delay":"0"}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",[t._v("credit_card")])],1),t._v(" "),n("v-list",[n("v-list-tile",{on:{click:function(e){t.computedPaperStyle="paper-style-card"}}},[n("v-list-tile-title",[t._v("card with more info")])],1),t._v(" "),n("v-list-tile",{on:{click:function(e){t.computedPaperStyle="paper-style-chip"}}},[n("v-list-tile-title",[t._v("chip with minimal info")])],1)],1)],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:t.clearGraph}},[n("v-icon",[t._v("crop_landscape")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",to:"/contail"}},[n("v-icon",[t._v("data_usage")])],1),t._v(" "),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("account_circle")])],1)],1),t._v(" "),n("v-content",{attrs:{app:""}},[n("v-container",{ref:"kanbanContainer",staticClass:"kanban-container",attrs:{fluid:""},on:{mousedown:t.deselectAllNodes}},[n("div",{ref:"graphContainer",staticClass:"graph-container",on:{scroll:t.alsoScrollYearsContainer}},[n("svg",{staticClass:"overlay"},t._l(t.edges,function(t,e){return n("path",{key:e,attrs:{d:t.path,"stroke-width":t.width||1,"stroke-opacity":t.opacity||.8,stroke:t.color||"#a55"}})}),0),t._v(" "),n("div",{ref:"cardsContainer",staticClass:"cards-container"},t._l(t.cards,function(e){return n("paper-card",{key:e.index,ref:"paperCards",refInFor:!0,attrs:{paperStyle:"paper-style-chip"===t.computedPaperStyle?"chip":"card",card:e},on:{"update:card":function(e){return t.updateCard(e)},mouseoverrefcount:function(e){return t.handleMouseOverRefCount(e)},mouseoutrefcount:function(e){return t.handleMouseOutRefCount(e)},clickrefcount:function(e){return t.handleClickRefCount(e)},mouseovercitecount:function(e){return t.handleMouseOverCiteCount(e)},mouseoutcitecount:function(e){return t.handleMouseOutCiteCount(e)},clickcitecount:function(e){return t.handleClickCiteCount(e)},clicktitle:function(e){return t.handleClickTitle(e)},clickhandle:function(e){return t.handleClickHandle(e)},remove:function(e){return t.handleRemoveCard(e)},dragend:t.movePaperCard}})}),1)])])],1)],1)},staticRenderFns:[]};var wt=n("VU/8")(gt,yt,!1,function(t){n("y4PV")},"data-v-09ce20b5",null);e.default=wt.exports},Re3r:function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},TNV1:function(t,e,n){"use strict";var r=n("cGG2");t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},X0uZ:function(t,e,n){var r=n("kM2E");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},XmWM:function(t,e,n){"use strict";var r=n("KCLY"),i=n("cGG2"),a=n("fuGk"),o=n("xLtR");function s(t){this.defaults=t,this.interceptors={request:new a,response:new a}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},cGG2:function(t,e,n){"use strict";var r=n("JP+z"),i=n("Re3r"),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===a.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},cWxy:function(t,e,n){"use strict";var r=n("dVOP");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},dIwP:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dSOO:function(t,e,n){n("X0uZ"),t.exports=9007199254740991},dVOP:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"e/Cv":function(t,e,n){n("6cxS"),t.exports=-9007199254740991},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},fuGk:function(t,e,n){"use strict";var r=n("cGG2");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},hiCB:function(t,e,n){t.exports={default:n("dSOO"),__esModule:!0}},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},mtWM:function(t,e,n){t.exports=n("tIFN")},oJlt:function(t,e,n){"use strict";var r=n("cGG2"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},p1b6:function(t,e,n){"use strict";var r=n("cGG2");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},pxG4:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},qRfI:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},rIgQ:function(t,e,n){"use strict";var r=n("Zrlr"),i=n.n(r),a=n("wxAW"),o=n.n(a),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i()(this,t),this.x=e,this.y=n}return o()(t,[{key:"length",get:function(){return Math.sqrt(this.length2)}},{key:"length2",get:function(){return this.x*this.x+this.y*this.y}}],[{key:"distance",value:function(e,n){return t.minus(n,e).length}},{key:"distance2",value:function(e,n){return t.minus(n,e).length2}},{key:"equal",value:function(t,e,n){return c(t.x,e.x,n)&&c(t.y,e.y,n)}},{key:"interpolate",value:function(e,n,r){return new t(u(e.x,n.x,r),u(e.y,n.y,r))}},{key:"mid",value:function(t,e){return this.interpolate(t,e,.5)}},{key:"minus",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"plus",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"times",value:function(e,n){return new t(e.x*n,e.y*n)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}}]),t}();function c(t,e,n){return Math.abs(t-e)<=n}function u(t,e,n){return n*(e-t)+t}e.a=s},t8qj:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},tIFN:function(t,e,n){"use strict";var r=n("cGG2"),i=n("JP+z"),a=n("XmWM"),o=n("KCLY");function s(t){var e=new a(t),n=i(a.prototype.request,e);return r.extend(n,a.prototype,e),r.extend(n,e),n}var c=s(o);c.Axios=a,c.create=function(t){return s(r.merge(o,t))},c.Cancel=n("dVOP"),c.CancelToken=n("cWxy"),c.isCancel=n("pBtG"),c.all=function(t){return Promise.all(t)},c.spread=n("pxG4"),t.exports=c,t.exports.default=c},tOck:function(t,e,n){t.exports={default:n("e/Cv"),__esModule:!0}},uqUo:function(t,e,n){var r=n("kM2E"),i=n("FeBl"),a=n("S82l");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},xLtR:function(t,e,n){"use strict";var r=n("cGG2"),i=n("TNV1"),a=n("pBtG"),o=n("KCLY"),s=n("dIwP"),c=n("qRfI");function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return u(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(u(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},y4PV:function(t,e){}});
//# sourceMappingURL=2.432bc8d4c7fe442aa5e0.js.map